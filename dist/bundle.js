(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define('bson_webpack',[],t):'object'==typeof exports?exports.bson_webpack=t():e.bson_webpack=t()})(this,function(){var _MathLN=Math.LN2,_Mathlog=Math.log,_Mathabs=Math.abs,_Mathmax=Math.max,_Mathfloor=Math.floor,_Mathpow=Math.pow,_StringfromCharCode=String.fromCharCode,_Mathmin=Math.min;return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=2)}([function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(n){'object'==typeof window&&(t=window)}e.exports=t},function(e,t,n){'use strict';(function(e){function i(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(i()<t)throw new RangeError('Invalid typed array length');return r.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=r.prototype):(null===e&&(e=new r(t)),e.length=t),e}function r(e,t,n){if(!r.TYPED_ARRAY_SUPPORT&&!(this instanceof r))return new r(e,t,n);if('number'==typeof e){if('string'==typeof t)throw new Error('If encoding is specified then the first argument must be a string');return u(this,e)}return s(this,e,t,n)}function s(e,t,n,i){if('number'==typeof t)throw new TypeError('"value" argument must not be a number');return'undefined'!=typeof ArrayBuffer&&t instanceof ArrayBuffer?g(e,t,n,i):'string'==typeof t?d(e,t,n):p(e,t)}function l(e){if('number'!=typeof e)throw new TypeError('"size" argument must be a number');else if(0>e)throw new RangeError('"size" argument must not be negative')}function a(e,t,n,i){return l(t),0>=t?o(e,t):void 0===n?o(e,t):'string'==typeof i?o(e,t).fill(n,i):o(e,t).fill(n)}function u(e,t){if(l(t),e=o(e,0>t?0:0|_(t)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t,n){if(('string'!=typeof n||''===n)&&(n='utf8'),!r.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|h(t,n);e=o(e,i);var s=e.write(t,n);return s!==i&&(e=e.slice(0,s)),e}function f(e,t){var n=0>t.length?0:0|_(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function g(e,t,n,i){if(t.byteLength,0>n||t.byteLength<n)throw new RangeError('\'offset\' is out of bounds');if(t.byteLength<n+(i||0))throw new RangeError('\'length\' is out of bounds');return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),r.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=r.prototype):e=f(e,t),e}function p(e,t){if(r.isBuffer(t)){var n=0|_(t.length);return(e=o(e,n),0===e.length)?e:(t.copy(e,0,0,n),e)}if(t){if('undefined'!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||'length'in t)return'number'!=typeof t.length||H(t.length)?o(e,0):f(e,t);if('Buffer'===t.type&&V(t.data))return f(e,t.data)}throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')}function _(e){if(e>=i())throw new RangeError('Attempt to allocate Buffer larger than maximum size: 0x'+i().toString(16)+' bytes');return 0|e}function h(e,t){if(r.isBuffer(e))return e.length;if('undefined'!=typeof ArrayBuffer&&'function'==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;'string'!=typeof e&&(e=''+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case'ascii':case'latin1':case'binary':return n;case'utf8':case'utf-8':case void 0:return J(e).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*n;case'hex':return n>>>1;case'base64':return X(e).length;default:if(i)return J(e).length;t=(''+t).toLowerCase(),i=!0;}}function c(e,t,n){var i=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return'';if((void 0===n||n>this.length)&&(n=this.length),0>=n)return'';if(n>>>=0,t>>>=0,n<=t)return'';for(e||(e='utf8');;)switch(e){case'hex':return v(this,t,n);case'utf8':case'utf-8':return D(this,t,n);case'ascii':return w(this,t,n);case'latin1':case'binary':return x(this,t,n);case'base64':return E(this,t,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return R(this,t,n);default:if(i)throw new TypeError('Unknown encoding: '+e);e=(e+'').toLowerCase(),i=!0;}}function y(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function b(e,t,n,i,o){if(0===e.length)return-1;if('string'==typeof n?(i=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),0>n&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(0>n)if(o)n=0;else return-1;if('string'==typeof t&&(t=r.from(t,i)),r.isBuffer(t))return 0===t.length?-1:S(e,t,n,i,o);if('number'==typeof t)return t&=255,r.TYPED_ARRAY_SUPPORT&&'function'==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):S(e,[t],n,i,o);throw new TypeError('val must be string, number or Buffer')}function S(e,t,n,o,r){function s(e,t){return 1===l?e[t]:e.readUInt16BE(t*l)}var l=1,a=e.length,u=t.length;if(void 0!==o&&(o=(o+'').toLowerCase(),'ucs2'===o||'ucs-2'===o||'utf16le'===o||'utf-16le'===o)){if(2>e.length||2>t.length)return-1;l=2,a/=2,u/=2,n/=2}var d;if(r){var i=-1;for(d=n;d<a;d++)if(s(e,d)!==s(t,-1==i?0:d-i))-1!=i&&(d-=d-i),i=-1;else if(-1==i&&(i=d),d-i+1===u)return i*l}else for(n+u>a&&(n=a-u),d=n;0<=d;d--){for(var f=!0,g=0;g<u;g++)if(s(e,d+g)!==s(t,g)){f=!1;break}if(f)return d}return-1}function N(e,t,n,o){n=+n||0;var r=e.length-n;o?(o=+o,o>r&&(o=r)):o=r;var s=t.length;if(0!=s%2)throw new TypeError('Invalid hex string');o>s/2&&(o=s/2);for(var l,a=0;a<o;++a){if(l=parseInt(t.substr(2*a,2),16),isNaN(l))return a;e[n+a]=l}return a}function A(e,t,n,i){return q(J(t,e.length-n),e,n,i)}function m(e,t,n,i){return q(F(t),e,n,i)}function B(e,t,n,i){return m(e,t,n,i)}function O(e,t,n,i){return q(X(t),e,n,i)}function T(e,t,n,i){return q(K(t,e.length-n),e,n,i)}function E(e,t,n){return 0===t&&n===e.length?G.fromByteArray(e):G.fromByteArray(e.slice(t,n))}function D(e,t,n){n=_Mathmin(e.length,n);for(var o=[],r=t;r<n;){var i=e[r],s=null,l=239<i?4:223<i?3:191<i?2:1;if(r+l<=n){var a,u,d,f;1==l?128>i&&(s=i):2==l?(a=e[r+1],128==(192&a)&&(f=(31&i)<<6|63&a,127<f&&(s=f))):3==l?(a=e[r+1],u=e[r+2],128==(192&a)&&128==(192&u)&&(f=(15&i)<<12|(63&a)<<6|63&u,2047<f&&(55296>f||57343<f)&&(s=f))):4==l?(a=e[r+1],u=e[r+2],d=e[r+3],128==(192&a)&&128==(192&u)&&128==(192&d)&&(f=(15&i)<<18|(63&a)<<12|(63&u)<<6|63&d,65535<f&&1114112>f&&(s=f))):void 0}null===s?(s=65533,l=1):65535<s&&(s-=65536,o.push(55296|1023&s>>>10),s=56320|1023&s),o.push(s),r+=l}return I(o)}function I(e){var t=e.length;if(t<=W)return _StringfromCharCode.apply(String,e);for(var n='',o=0;o<t;)n+=_StringfromCharCode.apply(String,e.slice(o,o+=W));return n}function w(e,t,n){var o='';n=_Mathmin(e.length,n);for(var r=t;r<n;++r)o+=_StringfromCharCode(127&e[r]);return o}function x(e,t,n){var o='';n=_Mathmin(e.length,n);for(var r=t;r<n;++r)o+=_StringfromCharCode(e[r]);return o}function v(e,t,n){var o=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>o)&&(n=o);for(var r='',s=t;s<n;++s)r+=z(e[s]);return r}function R(e,t,n){for(var o=e.slice(t,n),r='',s=0;s<o.length;s+=2)r+=_StringfromCharCode(o[s]+256*o[s+1]);return r}function U(e,t,n){if(0!=e%1||0>e)throw new RangeError('offset is not uint');if(e+t>n)throw new RangeError('Trying to access beyond buffer length')}function P(e,t,n,i,o,s){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError('Index out of range')}function Y(e,t,n,o){0>t&&(t=65535+t+1);for(var r=0,i=_Mathmin(e.length-n,2);r<i;++r)e[n+r]=(t&255<<8*(o?r:1-r))>>>8*(o?r:1-r)}function L(e,t,n,o){0>t&&(t=4294967295+t+1);for(var r=0,i=_Mathmin(e.length-n,4);r<i;++r)e[n+r]=255&t>>>8*(o?r:3-r)}function M(e,t,n,i){if(n+i>e.length)throw new RangeError('Index out of range');if(0>n)throw new RangeError('Index out of range')}function k(e,t,n,i,o){return o||M(e,t,n,4,34028234663852886e22,-34028234663852886e22),Z.write(e,t,n,i,23,4),n+4}function C(e,t,n,i,o){return o||M(e,t,n,8,17976931348623157e292,-17976931348623157e292),Z.write(e,t,n,i,52,8),n+8}function $(e){if(e=j(e).replace(Q,''),2>e.length)return'';for(;0!=e.length%4;)e+='=';return e}function j(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,'')}function z(e){return 16>e?'0'+e.toString(16):e.toString(16)}function J(e,t){t=t||Infinity;for(var n,o=e.length,r=null,s=[],l=0;l<o;++l){if(n=e.charCodeAt(l),55295<n&&57344>n){if(!r){if(56319<n){-1<(t-=3)&&s.push(239,191,189);continue}else if(l+1===o){-1<(t-=3)&&s.push(239,191,189);continue}r=n;continue}if(56320>n){-1<(t-=3)&&s.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&-1<(t-=3)&&s.push(239,191,189);if(r=null,128>n){if(0>(t-=1))break;s.push(n)}else if(2048>n){if(0>(t-=2))break;s.push(192|n>>6,128|63&n)}else if(65536>n){if(0>(t-=3))break;s.push(224|n>>12,128|63&n>>6,128|63&n)}else if(1114112>n){if(0>(t-=4))break;s.push(240|n>>18,128|63&n>>12,128|63&n>>6,128|63&n)}else throw new Error('Invalid code point')}return s}function F(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function K(e,t){for(var n,o,r,s=[],l=0;l<e.length&&!(0>(t-=2));++l)n=e.charCodeAt(l),o=n>>8,r=n%256,s.push(r),s.push(o);return s}function X(e){return G.toByteArray($(e))}function q(e,t,n,o){for(var r=0;r<o&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function H(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var G=n(5),Z=n(6),V=n(7);t.Buffer=r,t.SlowBuffer=function(e){return+e!=e&&(e=0),r.alloc(+e)},t.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT===void 0?function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&'function'==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}():e.TYPED_ARRAY_SUPPORT,t.kMaxLength=i(),r.poolSize=8192,r._augment=function(e){return e.__proto__=r.prototype,e},r.from=function(e,t,n){return s(null,e,t,n)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,'undefined'!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(e,t,n){return a(null,e,t,n)},r.allocUnsafe=function(e){return u(null,e)},r.allocUnsafeSlow=function(e){return u(null,e)},r.isBuffer=function(e){return!!(null!=e&&e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError('Arguments must be Buffers');if(e===t)return 0;for(var n=e.length,o=t.length,s=0,i=_Mathmin(n,o);s<i;++s)if(e[s]!==t[s]){n=e[s],o=t[s];break}return n<o?-1:o<n?1:0},r.isEncoding=function(e){switch((e+'').toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1;}},r.concat=function(e,t){if(!V(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return r.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=r.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!r.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},r.byteLength=h,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var t=0;t<e;t+=2)y(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},r.prototype.toString=function(){var e=0|this.length;return 0==e?'':0===arguments.length?D(this,0,e):c.apply(this,arguments)},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError('Argument must be a Buffer');return this===e||0===r.compare(this,e)},r.prototype.inspect=function(){var e='',n=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString('hex',0,n).match(/.{2}/g).join(' '),this.length>n&&(e+=' ... ')),'<Buffer '+e+'>'},r.prototype.compare=function(e,t,n,o,s){if(!r.isBuffer(e))throw new TypeError('Argument must be a Buffer');if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===o&&(o=0),void 0===s&&(s=this.length),0>t||n>e.length||0>o||s>this.length)throw new RangeError('out of range index');if(o>=s&&t>=n)return 0;if(o>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,o>>>=0,s>>>=0,this===e)return 0;for(var l=s-o,a=n-t,u=_Mathmin(l,a),d=this.slice(o,s),f=e.slice(t,n),g=0;g<u;++g)if(d[g]!==f[g]){l=d[g],a=f[g];break}return l<a?-1:a<l?1:0},r.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},r.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},r.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},r.prototype.write=function(e,t,n,i){if(void 0===t)i='utf8',n=this.length,t=0;else if(void 0===n&&'string'==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t|=0,isFinite(n)?(n|=0,void 0===i&&(i='utf8')):(i=n,n=void 0);else throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');var o=this.length-t;if((void 0===n||n>o)&&(n=o),0<e.length&&(0>n||0>t)||t>this.length)throw new RangeError('Attempt to write outside buffer bounds');i||(i='utf8');for(var r=!1;;)switch(i){case'hex':return N(this,e,t,n);case'utf8':case'utf-8':return A(this,e,t,n);case'ascii':return m(this,e,t,n);case'latin1':case'binary':return B(this,e,t,n);case'base64':return O(this,e,t,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return T(this,e,t,n);default:if(r)throw new TypeError('Unknown encoding: '+i);i=(''+i).toLowerCase(),r=!0;}},r.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var W=4096;r.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),t<e&&(t=e);var o;if(r.TYPED_ARRAY_SUPPORT)o=this.subarray(e,t),o.__proto__=r.prototype;else{var s=t-e;o=new r(s,void 0);for(var l=0;l<s;++l)o[l]=this[l+e]}return o},r.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var o=this[e],r=1,s=0;++s<t&&(r*=256);)o+=this[e+s]*r;return o},r.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var i=this[e+--t],o=1;0<t&&(o*=256);)i+=this[e+--t]*o;return i},r.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var o=this[e],r=1,s=0;++s<t&&(r*=256);)o+=this[e+s]*r;return r*=128,o>=r&&(o-=_Mathpow(2,8*t)),o},r.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var o=t,i=1,r=this[e+--o];0<o&&(i*=256);)r+=this[e+--o]*i;return i*=128,r>=i&&(r-=_Mathpow(2,8*t)),r},r.prototype.readInt8=function(e,t){return t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),Z.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),Z.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),Z.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),Z.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,n,o){if(e=+e,t|=0,n|=0,!o){var r=_Mathpow(2,8*n)-1;P(this,e,t,n,r,0)}var s=1,l=0;for(this[t]=255&e;++l<n&&(s*=256);)this[t+l]=255&e/s;return t+n},r.prototype.writeUIntBE=function(e,t,n,o){if(e=+e,t|=0,n|=0,!o){var r=_Mathpow(2,8*n)-1;P(this,e,t,n,r,0)}var s=n-1,i=1;for(this[t+s]=255&e;0<=--s&&(i*=256);)this[t+s]=255&e/i;return t+n},r.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=_Mathfloor(e)),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Y(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Y(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},r.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t|=0,!o){var r=_Mathpow(2,8*n-1);P(this,e,t,n,r-1,-r)}var s=0,i=1,l=0;for(this[t]=255&e;++s<n&&(i*=256);)0>e&&0==l&&0!==this[t+s-1]&&(l=1),this[t+s]=255&(e/i>>0)-l;return t+n},r.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t|=0,!o){var r=_Mathpow(2,8*n-1);P(this,e,t,n,r-1,-r)}var s=n-1,i=1,l=0;for(this[t+s]=255&e;0<=--s&&(i*=256);)0>e&&0==l&&0!==this[t+s+1]&&(l=1),this[t+s]=255&(e/i>>0)-l;return t+n},r.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=_Mathfloor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Y(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Y(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,n){return k(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){return k(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){return C(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){return C(this,e,t,!1,n)},r.prototype.copy=function(e,t,n,o){if(n||(n=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),0<o&&o<n&&(o=n),o===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError('targetStart out of bounds');if(0>n||n>=this.length)throw new RangeError('sourceStart out of bounds');if(0>o)throw new RangeError('sourceEnd out of bounds');o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);var s,i=o-n;if(this===e&&n<t&&t<o)for(s=i-1;0<=s;--s)e[s+t]=this[s+n];else if(1e3>i||!r.TYPED_ARRAY_SUPPORT)for(s=0;s<i;++s)e[s+t]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},r.prototype.fill=function(e,t,n,o){if('string'==typeof e){if('string'==typeof t?(o=t,t=0,n=this.length):'string'==typeof n&&(o=n,n=this.length),1===e.length){var s=e.charCodeAt(0);256>s&&(e=s)}if(void 0!==o&&'string'!=typeof o)throw new TypeError('encoding must be a string');if('string'==typeof o&&!r.isEncoding(o))throw new TypeError('Unknown encoding: '+o)}else'number'==typeof e&&(e&=255);if(0>t||this.length<t||this.length<n)throw new RangeError('Out of range index');if(n<=t)return this;t>>>=0,n=n===void 0?this.length:n>>>0,e||(e=0);var l;if('number'==typeof e)for(l=t;l<n;++l)this[l]=e;else{var i=r.isBuffer(e)?e:J(new r(e,o).toString()),a=i.length;for(l=0;l<n-t;++l)this[l+t]=i[l%a]}return this};var Q=/[^+\/0-9A-Za-z-_]/g}).call(t,n(0))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.Bson=void 0;var i=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.Bson=o.default},function(e,t,n){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var o=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(4),s=function(e){return e&&e.__esModule?e:{default:e}}(r),l=function(){function e(){i(this,e)}return o(e,null,[{key:'serialize',value:function(e){return s.default.serialize(e)}},{key:'deserialize',value:function(e,t){return s.default.deserialize(e,t)}}]),e}();t.default=l},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0}),function(global,Buffer){function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function _defineProperties(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _typeof(e){return _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},_typeof(e)}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function _defineProperties$1(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass$1(e,t,n){return t&&_defineProperties$1(e.prototype,t),n&&_defineProperties$1(e,n),e}function _possibleConstructorReturn(e,t){return t&&('object'===_typeof(t)||'function'==typeof t)?t:_assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return e}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _inherits(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function');e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function normalizedFunctionString(e){return e.toString().replace('function(','function (')}function insecureRandomBytes(e){for(var t=new Uint8Array(e),n=0;n<e;++n)t[n]=_Mathfloor(256*Math.random());return t}function defaultSetTimout(){throw new Error('setTimeout has not been defined')}function defaultClearTimeout(){throw new Error('clearTimeout has not been defined')}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}function noop(){}function binding(){throw new Error('process.binding is not supported')}function cwd(){return'/'}function chdir(){throw new Error('process.chdir is not supported')}function umask(){return 0}function hrtime(e){var t=1e-3*performanceNow.call(performance),n=_Mathfloor(t),i=_Mathfloor(1e9*(t%1));return e&&(n-=e[0],i-=e[1],0>i&&(n--,i+=1e9)),[n,i]}function uptime(){var e=new Date;return(e-startTime)/1e3}function _typeof$1(e){return _typeof$1='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},_typeof$1(e)}function format(e){if(!isString(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(inspect(arguments[n]));return t.join(' ')}for(var n=1,i=arguments,o=i.length,r=(e+'').replace(formatRegExp,function(e){if('%%'===e)return'%';if(n>=o)return e;switch(e){case'%s':return i[n++]+'';case'%d':return+i[n++];case'%j':try{return JSON.stringify(i[n++])}catch(e){return'[Circular]'}default:return e;}}),s=i[n];n<o;s=i[++n])r+=isNull(s)||!isObject(s)?' '+s:' '+inspect(s);return r}function deprecate(e,t){function n(){return i||(console.error(t),i=!0),e.apply(this,arguments)}if(isUndefined(global.process))return function(){return deprecate(e,t).apply(this,arguments)};var i=!1;return n}function debuglog(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||''),e=e.toUpperCase(),!debugs[e])if(new RegExp('\\b'+e+'\\b','i').test(debugEnviron)){debugs[e]=function(){var t=format.apply(null,arguments);console.error('%s %d: %s',e,0,t)}}else debugs[e]=function(){};return debugs[e]}function inspect(e,t){var n={seen:[],stylize:stylizeNoColor};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),isBoolean(t)?n.showHidden=t:t&&_extend(n,t),isUndefined(n.showHidden)&&(n.showHidden=!1),isUndefined(n.depth)&&(n.depth=2),isUndefined(n.colors)&&(n.colors=!1),isUndefined(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=stylizeWithColor),formatValue(n,e,n.depth)}function stylizeWithColor(e,t){var n=inspect.styles[t];return n?'\x1B['+inspect.colors[n][0]+'m'+e+'\x1B['+inspect.colors[n][1]+'m':e}function stylizeNoColor(e){return e}function arrayToHash(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function formatValue(e,t,i){if(e.customInspect&&t&&isFunction(t.inspect)&&t.inspect!==inspect&&!(t.constructor&&t.constructor.prototype===t)){var o=t.inspect(i,e);return isString(o)||(o=formatValue(e,o,i)),o}var r=formatPrimitive(e,t);if(r)return r;var s=Object.keys(t),l=arrayToHash(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),isError(t)&&(0<=s.indexOf('message')||0<=s.indexOf('description')))return formatError(t);if(0===s.length){if(isFunction(t)){var a=t.name?': '+t.name:'';return e.stylize('[Function'+a+']','special')}if(isRegExp(t))return e.stylize(RegExp.prototype.toString.call(t),'regexp');if(isDate(t))return e.stylize(Date.prototype.toString.call(t),'date');if(isError(t))return formatError(t)}var u='',d=!1,f=['{','}'];if(isArray(t)&&(d=!0,f=['[',']']),isFunction(t)){var g=t.name?': '+t.name:'';u=' [Function'+g+']'}if(isRegExp(t)&&(u=' '+RegExp.prototype.toString.call(t)),isDate(t)&&(u=' '+Date.prototype.toUTCString.call(t)),isError(t)&&(u=' '+formatError(t)),0===s.length&&(!d||0==t.length))return f[0]+u+f[1];if(0>i)return isRegExp(t)?e.stylize(RegExp.prototype.toString.call(t),'regexp'):e.stylize('[Object]','special');e.seen.push(t);var n;return n=d?formatArray(e,t,i,l,s):s.map(function(n){return formatProperty(e,t,i,l,n,d)}),e.seen.pop(),reduceToSingleString(n,u,f)}function formatPrimitive(e,t){if(isUndefined(t))return e.stylize('undefined','undefined');if(isString(t)){var n='\''+JSON.stringify(t).replace(/^"|"$/g,'').replace(/'/g,'\\\'').replace(/\\"/g,'"')+'\'';return e.stylize(n,'string')}return isNumber(t)?e.stylize(''+t,'number'):isBoolean(t)?e.stylize(''+t,'boolean'):isNull(t)?e.stylize('null','null'):void 0}function formatError(e){return'['+Error.prototype.toString.call(e)+']'}function formatArray(e,t,n,o,r){for(var s=[],a=0,i=t.length;a<i;++a)hasOwnProperty(t,a+'')?s.push(formatProperty(e,t,n,o,a+'',!0)):s.push('');return r.forEach(function(i){i.match(/^\d+$/)||s.push(formatProperty(e,t,n,o,i,!0))}),s}function formatProperty(e,t,n,i,o,r){var s,l,a;if(a=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},a.get?a.set?l=e.stylize('[Getter/Setter]','special'):l=e.stylize('[Getter]','special'):a.set&&(l=e.stylize('[Setter]','special')),hasOwnProperty(i,o)||(s='['+o+']'),l||(0>e.seen.indexOf(a.value)?(l=isNull(n)?formatValue(e,a.value,null):formatValue(e,a.value,n-1),-1<l.indexOf('\n')&&(r?l=l.split('\n').map(function(e){return'  '+e}).join('\n').substr(2):l='\n'+l.split('\n').map(function(e){return'   '+e}).join('\n'))):l=e.stylize('[Circular]','special')),isUndefined(s)){if(r&&o.match(/^\d+$/))return l;s=JSON.stringify(''+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,'name')):(s=s.replace(/'/g,'\\\'').replace(/\\"/g,'"').replace(/(^"|"$)/g,'\''),s=e.stylize(s,'string'))}return s+': '+l}function reduceToSingleString(e,t,n){var i=e.reduce(function(e,t){if(0<=t.indexOf('\n'));return e+t.replace(/\u001b\[\d\d?m/g,'').length+1},0);return 60<i?n[0]+(''===t?'':t+'\n ')+' '+e.join(',\n  ')+' '+n[1]:n[0]+t+' '+e.join(', ')+' '+n[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return'boolean'==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return'number'==typeof e}function isString(e){return'string'==typeof e}function isSymbol(e){return'symbol'===_typeof$1(e)}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&'[object RegExp]'===objectToString(e)}function isObject(e){return'object'===_typeof$1(e)&&null!==e}function isDate(e){return isObject(e)&&'[object Date]'===objectToString(e)}function isError(t){return isObject(t)&&('[object Error]'===objectToString(t)||t instanceof Error)}function isFunction(e){return'function'==typeof e}function isPrimitive(e){return null===e||'boolean'==typeof e||'number'==typeof e||'string'==typeof e||'symbol'===_typeof$1(e)||'undefined'==typeof e}function isBuffer(e){return Buffer.isBuffer(e)}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return 10>e?'0'+e.toString(10):e.toString(10)}function timestamp$1(){var e=new Date,t=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(':');return[e.getDate(),months[e.getMonth()],t].join(' ')}function log(){console.log('%s - %s',timestamp$1(),format.apply(null,arguments))}function _extend(e,t){if(!t||!isObject(t))return e;for(var n=Object.keys(t),o=n.length;o--;)e[n[o]]=t[n[o]];return e}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function _defineProperties$2(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass$2(e,t,n){return t&&_defineProperties$2(e.prototype,t),n&&_defineProperties$2(e,n),e}function convertToHex(e){return e.toString('hex')}function makeObjectIdError(e,t){var n=e[t];return new TypeError('ObjectId string "'.concat(e,'" contains invalid character "').concat(n,'" with character code (').concat(e.charCodeAt(t),'). All character codes for a non-hex string must be less than 256.'))}function _classCallCheck$3(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function _defineProperties$3(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass$3(e,t,n){return t&&_defineProperties$3(e.prototype,t),n&&_defineProperties$3(e,n),e}function alphabetize(e){return e.split('').sort().join('')}function _classCallCheck$4(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function _defineProperties$4(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass$4(e,t,n){return t&&_defineProperties$4(e.prototype,t),n&&_defineProperties$4(e,n),e}function _classCallCheck$5(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function _defineProperties$5(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass$5(e,t,n){return t&&_defineProperties$5(e.prototype,t),n&&_defineProperties$5(e,n),e}function _classCallCheck$6(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function _defineProperties$6(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass$6(e,t,n){return t&&_defineProperties$6(e.prototype,t),n&&_defineProperties$6(e,n),e}function isDigit(e){return!isNaN(parseInt(e,10))}function divideu128(e){var t=long_1.fromNumber(1000000000),n=long_1.fromNumber(0);if(!e.parts[0]&&!e.parts[1]&&!e.parts[2]&&!e.parts[3])return{quotient:e,rem:n};for(var o=0;3>=o;o++)n=n.shiftLeft(32),n=n.add(new long_1(e.parts[o],0)),e.parts[o]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function multiply64x2(e,t){if(!e&&!t)return{high:long_1.fromNumber(0),low:long_1.fromNumber(0)};var n=e.shiftRightUnsigned(32),i=new long_1(e.getLowBits(),0),o=t.shiftRightUnsigned(32),r=new long_1(t.getLowBits(),0),s=n.multiply(o),l=n.multiply(r),a=i.multiply(o),u=i.multiply(r);return s=s.add(l.shiftRightUnsigned(32)),l=new long_1(l.getLowBits(),0).add(a).add(u.shiftRightUnsigned(32)),s=s.add(l.shiftRightUnsigned(32)),u=l.shiftLeft(32).add(new long_1(u.getLowBits(),0)),{high:s,low:u}}function lessThan(e,t){var n=e.high>>>0,i=t.high>>>0;if(n<i)return!0;if(n==i){var o=e.low>>>0,r=t.low>>>0;if(o<r)return!0}return!1}function invalidErr(e,t){throw new TypeError('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}function Decimal128(e){this.bytes=e}function _classCallCheck$7(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function _defineProperties$7(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass$7(e,t,n){return t&&_defineProperties$7(e.prototype,t),n&&_defineProperties$7(e,n),e}function _classCallCheck$8(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function _defineProperties$8(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass$8(e,t,n){return t&&_defineProperties$8(e.prototype,t),n&&_defineProperties$8(e,n),e}function _classCallCheck$9(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function _defineProperties$9(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass$9(e,t,n){return t&&_defineProperties$9(e.prototype,t),n&&_defineProperties$9(e,n),e}function _classCallCheck$a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function _defineProperties$a(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass$a(e,t,n){return t&&_defineProperties$a(e.prototype,t),n&&_defineProperties$a(e,n),e}function isUint8Array(e){return'[object Uint8Array]'===Object.prototype.toString.call(e)}function writeStringToArray(e){for(var t='undefined'==typeof Uint8Array?Array(e.length):new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function convertArraytoUtf8BinaryString(e,t,n){for(var o='',r=t;r<n;r++)o+=_StringfromCharCode(e[r]);return o}function _typeof$2(e){return _typeof$2='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},_typeof$2(e)}function deserializeValue(e,t,n,o){if('number'==typeof n){if(o.relaxed)return n;if(_Mathfloor(n)===n){if(n>=BSON_INT32_MIN&&n<=BSON_INT32_MAX)return new int_32(n);if(n>=BSON_INT64_MIN&&n<=BSON_INT64_MAX)return new long_1.fromNumber(n)}return new double_1(n)}if(null==n||'object'!==_typeof$2(n))return n;if(n.$undefined)return null;for(var r,s=Object.keys(n).filter(function(e){return e.startsWith('$')&&null!=n[e]}),l=0;l<s.length;l++)if(r=keysToCodecs[s[l]],r)return r.fromExtendedJSON(n,o);if(null!=n.$date){var i=n.$date,a=new Date;return'string'==typeof i?a.setTime(Date.parse(i)):long_1.isLong(i)?a.setTime(i.toNumber()):'number'==typeof i&&o.relaxed&&a.setTime(i),a}if(null!=n.$code){var u=Object.assign({},n);return n.$scope&&(u.$scope=deserializeValue(e,null,n.$scope)),code.fromExtendedJSON(n)}if(null!=n.$ref||null!=n.$dbPointer){var f=n.$ref?n:n.$dbPointer;if(f instanceof db_ref)return f;var g=Object.keys(f).filter(function(e){return e.startsWith('$')}),p=!0;if(g.forEach(function(e){-1===['$ref','$id','$db'].indexOf(e)&&(p=!1)}),p)return db_ref.fromExtendedJSON(f)}return n}function parse(e,t){var n=this;return t=Object.assign({},{relaxed:!0},t),'boolean'==typeof t.relaxed&&(t.strict=!t.relaxed),'boolean'==typeof t.strict&&(t.relaxed=!t.strict),JSON.parse(e,function(e,i){return deserializeValue(n,e,i,t)})}function stringify(e,t,n,i){null!=n&&'object'===_typeof$2(n)&&(i=n,n=0),null==t||'object'!==_typeof$2(t)||Array.isArray(t)||(i=t,t=null,n=0),i=Object.assign({},{relaxed:!0},i);var o=Array.isArray(e)?serializeArray(e,i):serializeDocument(e,i);return JSON.stringify(o,t,n)}function serialize(e,t){return t=t||{},JSON.parse(stringify(e,t))}function deserialize(e,t){return t=t||{},parse(JSON.stringify(e),t)}function serializeArray(e,t){return e.map(function(e){return serializeValue(e,t)})}function getISOString(e){var t=e.toISOString();return 0===e.getUTCMilliseconds()?t.slice(0,-5)+'Z':t}function serializeValue(e,t){if(Array.isArray(e))return serializeArray(e,t);if(void 0===e)return null;if(e instanceof Date){var n=e.getTime();return t.relaxed&&-1<n&&2534023188e5>n?{$date:getISOString(e)}:{$date:{$numberLong:e.getTime().toString()}}}if('number'==typeof e&&!t.relaxed){if(_Mathfloor(e)===e){if(e>=BSON_INT32_MIN&&e<=BSON_INT32_MAX)return{$numberInt:e.toString()};if(e>=BSON_INT64_MIN&&e<=BSON_INT64_MAX)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var i=e.flags;void 0===i&&(i=e.toString().match(/[gimuy]*$/)[0]);var o=new regexp(e.source,i);return o.toExtendedJSON()}return null!=e&&'object'===_typeof$2(e)?serializeDocument(e,t):e}function serializeDocument(e,t){if(null==e||'object'!==_typeof$2(e))throw new Error('not an object instance');var n=e._bsontype;if('undefined'==typeof n){var i={};for(var o in e)i[o]=serializeValue(e[o],t);return i}if('string'==typeof n){var r=e;if('function'!=typeof r.toExtendedJSON){var s=BSON_TYPE_MAPPINGS[n];if(!s)throw new TypeError('Unrecognized or invalid _bsontype: '+n);r=s(r)}return'Code'===n&&r.scope?r=new code(r.code,serializeValue(r.scope,t)):'DBRef'===n&&r.oid&&(r=new db_ref(r.collection,serializeValue(r.oid,t),r.db,r.fields)),r.toExtendedJSON(t)}throw new Error('_bsontype must be a string, but was: '+_typeof$2(n))}function validateUtf8(e,t,n){for(var o,r=0,s=t;s<n;s+=1)if(o=e[s],r){if((o&FIRST_TWO_BITS)!==CONTINUING_CHAR)return!1;r-=1}else if(o&FIRST_BIT)if((o&FIRST_THREE_BITS)===TWO_BIT_CHAR)r=1;else if((o&FIRST_FOUR_BITS)===THREE_BIT_CHAR)r=2;else if((o&FIRST_FIVE_BITS)===FOUR_BIT_CHAR)r=3;else return!1;return!r}function deserialize$1(e,t,n){t=null==t?{}:t;var i=t&&t.index?t.index:0,o=e[i]|e[i+1]<<8|e[i+2]<<16|e[i+3]<<24;if(5>o)throw new Error('bson size must be >= 5, is '.concat(o));if(t.allowObjectSmallerThanBufferSize&&e.length<o)throw new Error('buffer length '.concat(e.length,' must be >= bson size ').concat(o));if(!t.allowObjectSmallerThanBufferSize&&e.length!==o)throw new Error('buffer length '.concat(e.length,' must === bson size ').concat(o));if(o+i>e.length)throw new Error('(bson size '.concat(o,' + options.index ').concat(i,' must be <= buffer length ').concat(Buffer$4.byteLength(e),')'));if(0!==e[i+o-1])throw new Error('One object, sized correctly, with a spot for an EOO, but the EOO isn\'t 0x00');return deserializeObject(e,i,t,n)}function deserializeObject(e,t,o,r){var l=null!=o.evalFunctions&&o.evalFunctions,a=null!=o.cacheFunctions&&o.cacheFunctions,u=null!=o.cacheFunctionsCrc32&&o.cacheFunctionsCrc32;if(!u)var d=null;var f=null==o.fieldsAsRaw?null:o.fieldsAsRaw,g=null!=o.raw&&o.raw,p='boolean'==typeof o.bsonRegExp&&o.bsonRegExp,_=null!=o.promoteBuffers&&o.promoteBuffers,h=null==o.promoteLongs||o.promoteLongs,c=null==o.promoteValues||o.promoteValues,y=t;if(5>e.length)throw new Error('corrupt bson message < 5 bytes long');var b=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(5>b||b>e.length)throw new Error('corrupt bson message');for(var S,N=r?[]:{},A=0;S=e[t++],0!==S;){for(var m=t;0!==e[m]&&m<e.length;)m++;if(m>=Buffer$4.byteLength(e))throw new Error('Bad BSON Document: illegal CString');var i=r?A++:e.toString('utf8',t,m);if(t=m+1,S===constants.BSON_DATA_STRING){var B=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(0>=B||B>e.length-t||0!==e[t+B-1])throw new Error('bad string length in bson');if(!validateUtf8$1(e,t,t+B-1))throw new Error('Invalid UTF-8 string in BSON document');var O=e.toString('utf8',t,t+B-1);N[i]=O,t+=B}else if(S===constants.BSON_DATA_OID){var s=Buffer$4.alloc(12);e.copy(s,0,t,t+12),N[i]=new objectid(s),t+=12}else if(S===constants.BSON_DATA_INT&&!1===c)N[i]=new int_32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(S===constants.BSON_DATA_INT)N[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(S===constants.BSON_DATA_NUMBER&&!1===c)N[i]=new double_1(e.readDoubleLE(t)),t+=8;else if(S===constants.BSON_DATA_NUMBER)N[i]=e.readDoubleLE(t),t+=8;else if(S===constants.BSON_DATA_DATE){var T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,E=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;N[i]=new Date(new long_1(T,E).toNumber())}else if(S===constants.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error('illegal boolean type value');N[i]=1===e[t++]}else if(S===constants.BSON_DATA_OBJECT){var D=t,I=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(0>=I||I>e.length-t)throw new Error('bad embedded document length in bson');N[i]=g?e.slice(t,t+I):deserializeObject(e,D,o,!1),t+=I}else if(S===constants.BSON_DATA_ARRAY){var w=t,x=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,v=o,R=t+x;if(f&&f[i]){for(var U in v={},o)v[U]=o[U];v.raw=!0}if(N[i]=deserializeObject(e,w,v,!0),t+=x,0!==e[t-1])throw new Error('invalid array terminator byte');if(t!==R)throw new Error('corrupted array bson')}else if(S===constants.BSON_DATA_UNDEFINED)N[i]=void 0;else if(S===constants.BSON_DATA_NULL)N[i]=null;else if(S===constants.BSON_DATA_LONG){var n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,P=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,Y=new long_1(n,P);N[i]=h&&!0===c?Y.lessThanOrEqual(JS_INT_MAX_LONG)&&Y.greaterThanOrEqual(JS_INT_MIN_LONG)?Y.toNumber():Y:Y}else if(S===constants.BSON_DATA_DECIMAL128){var L=Buffer$4.alloc(16);e.copy(L,0,t,t+16),t+=16;var M=new decimal128(L);N[i]=M.toObject?M.toObject():M}else if(S===constants.BSON_DATA_BINARY){var k=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,C=k,$=e[t++];if(0>k)throw new Error('Negative binary type element size found');if(k>Buffer$4.byteLength(e))throw new Error('Binary type size larger than document size');if(null!=e.slice){if($===binary.SUBTYPE_BYTE_ARRAY){if(k=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,0>k)throw new Error('Negative binary type element size found for subtype 0x02');if(k>C-4)throw new Error('Binary type with subtype 0x02 contains to long binary size');if(k<C-4)throw new Error('Binary type with subtype 0x02 contains to short binary size')}N[i]=_&&c?e.slice(t,t+k):new binary(e.slice(t,t+k),$)}else{var j='undefined'==typeof Uint8Array?Array(k):new Uint8Array(new ArrayBuffer(k));if($===binary.SUBTYPE_BYTE_ARRAY){if(k=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,0>k)throw new Error('Negative binary type element size found for subtype 0x02');if(k>C-4)throw new Error('Binary type with subtype 0x02 contains to long binary size');if(k<C-4)throw new Error('Binary type with subtype 0x02 contains to short binary size')}for(m=0;m<k;m++)j[m]=e[t+m];N[i]=_&&c?j:new binary(j,$)}t+=k}else if(S===constants.BSON_DATA_REGEXP&&!1===p){for(m=t;0!==e[m]&&m<e.length;)m++;if(m>=e.length)throw new Error('Bad BSON Document: illegal CString');var z=e.toString('utf8',t,m);for(t=m+1,m=t;0!==e[m]&&m<e.length;)m++;if(m>=e.length)throw new Error('Bad BSON Document: illegal CString');var J=e.toString('utf8',t,m);t=m+1;var F=Array(J.length);for(m=0;m<J.length;m++)switch(J[m]){case'm':F[m]='m';break;case's':F[m]='g';break;case'i':F[m]='i';}N[i]=new RegExp(z,F.join(''))}else if(S===constants.BSON_DATA_REGEXP&&!0===p){for(m=t;0!==e[m]&&m<e.length;)m++;if(m>=e.length)throw new Error('Bad BSON Document: illegal CString');var K=e.toString('utf8',t,m);for(t=m+1,m=t;0!==e[m]&&m<e.length;)m++;if(m>=e.length)throw new Error('Bad BSON Document: illegal CString');var X=e.toString('utf8',t,m);t=m+1,N[i]=new regexp(K,X)}else if(S===constants.BSON_DATA_SYMBOL){var q=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(0>=q||q>e.length-t||0!==e[t+q-1])throw new Error('bad string length in bson');N[i]=e.toString('utf8',t,t+q-1),t+=q}else if(S===constants.BSON_DATA_TIMESTAMP){var H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,G=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;N[i]=new timestamp(H,G)}else if(S===constants.BSON_DATA_MIN_KEY)N[i]=new min_key;else if(S===constants.BSON_DATA_MAX_KEY)N[i]=new max_key;else if(S===constants.BSON_DATA_CODE){var Z=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(0>=Z||Z>e.length-t||0!==e[t+Z-1])throw new Error('bad string length in bson');var V=e.toString('utf8',t,t+Z-1);if(!l)N[i]=new code(V);else if(a){var W=u?d(V):V;N[i]=isolateEvalWithHash(functionCache,W,V,N)}else N[i]=isolateEval(V);t+=Z}else if(S===constants.BSON_DATA_CODE_W_SCOPE){var Q=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(13>Q)throw new Error('code_w_scope total size shorter minimum expected length');var ee=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(0>=ee||ee>e.length-t||0!==e[t+ee-1])throw new Error('bad string length in bson');var te=e.toString('utf8',t,t+ee-1);t+=ee;var ne=t,ie=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,oe=deserializeObject(e,ne,o,!1);if(t+=ie,Q<8+ie+ee)throw new Error('code_w_scope total size is to short, truncating scope');if(Q>8+ie+ee)throw new Error('code_w_scope total size is to long, clips outer document');if(l){if(a){var re=u?d(te):te;N[i]=isolateEvalWithHash(functionCache,re,te,N)}else N[i]=isolateEval(te);N[i].scope=oe}else N[i]=new code(te,oe)}else if(S===constants.BSON_DATA_DBPOINTER){var se=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(0>=se||se>e.length-t||0!==e[t+se-1])throw new Error('bad string length in bson');if(!validateUtf8$1(e,t,t+se-1))throw new Error('Invalid UTF-8 string in BSON document');var le=e.toString('utf8',t,t+se-1);t+=se;var ae=Buffer$4.alloc(12);e.copy(ae,0,t,t+12);var ue=new objectid(ae);t+=12,N[i]=new db_ref(le,ue)}else throw new Error('Detected unknown BSON type '+S.toString(16)+' for fieldname "'+i+'", are you using the latest BSON parser?')}if(b!=t-y){if(r)throw new Error('corrupt array bson');throw new Error('corrupt object bson')}var de=Object.keys(N).filter(function(e){return e.startsWith('$')}),fe=!0;if(de.forEach(function(e){-1===['$ref','$id','$db'].indexOf(e)&&(fe=!1)}),!fe)return N;if(null!=N.$id&&null!=N.$ref){var ge=Object.assign({},N);return delete ge.$ref,delete ge.$id,delete ge.$db,new db_ref(N.$ref,N.$id,N.$db||null,ge)}return N}function isolateEvalWithHash(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval('value = '+functionString),functionCache[hash]=value),functionCache[hash].bind(object)}function isolateEval(functionString){var value=null;return eval('value = '+functionString),value}function readIEEE754(t,n,o,r,l){var a,e,u='big'===o,f=8*l-r-1,g=(1<<f)-1,p=g>>1,_=-7,h=u?0:l-1,i=u?1:-1,d=t[n+h];for(h+=i,a=d&(1<<-_)-1,d>>=-_,_+=f;0<_;a=256*a+t[n+h],h+=i,_-=8);for(e=a&(1<<-_)-1,a>>=-_,_+=r;0<_;e=256*e+t[n+h],h+=i,_-=8);if(0===a)a=1-p;else{if(a===g)return e?NaN:(d?-1:1)*Infinity;e+=_Mathpow(2,r),a-=p}return(d?-1:1)*e*_Mathpow(2,a-r)}function writeIEEE754(t,n,o,r,l,a){var u,f,g,p='big'===r,_=8*a-l-1,h=(1<<_)-1,c=h>>1,y=23===l?5.960464477539063e-8-6.617444900424222e-24:0,b=p?a-1:0,i=p?-1:1,d=0>n||0===n&&0>1/n?1:0;for(n=_Mathabs(n),isNaN(n)||n===Infinity?(f=isNaN(n)?1:0,u=h):(u=_Mathfloor(_Mathlog(n)/_MathLN),1>n*(g=_Mathpow(2,-u))&&(u--,g*=2),n+=1<=u+c?y/g:y*_Mathpow(2,1-c),2<=n*g&&(u++,g/=2),u+c>=h?(f=0,u=h):1<=u+c?(f=(n*g-1)*_Mathpow(2,l),u+=c):(f=n*_Mathpow(2,c-1)*_Mathpow(2,l),u=0)),isNaN(n)&&(f=0);8<=l;)t[o+b]=255&f,b+=i,f/=256,l-=8;for(u=u<<l|f,isNaN(n)&&(u+=8),_+=l;0<_;)t[o+b]=255&u,b+=i,u/=256,_-=8;t[o+b-i]|=128*d}function _typeof$3(e){return _typeof$3='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},_typeof$3(e)}function serializeString(e,t,n,i,o){e[i++]=constants.BSON_DATA_STRING;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');i=i+r+1,e[i-1]=0;var s=e.write(n,i+4,'utf8');return e[i+3]=255&s+1>>24,e[i+2]=255&s+1>>16,e[i+1]=255&s+1>>8,e[i]=255&s+1,i=i+4+s,e[i++]=0,i}function serializeNumber(e,t,n,i,o){if(!(_Mathfloor(n)===n&&n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX)){e[i++]=constants.BSON_DATA_NUMBER;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');i+=r,e[i++]=0,writeIEEE754$1(e,n,i,'little',52,8),i+=8}else if(n>=constants.BSON_INT32_MIN&&n<=constants.BSON_INT32_MAX){e[i++]=constants.BSON_DATA_INT;var s=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');i+=s,e[i++]=0,e[i++]=255&n,e[i++]=255&n>>8,e[i++]=255&n>>16,e[i++]=255&n>>24}else if(n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX){e[i++]=constants.BSON_DATA_NUMBER;var l=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');i+=l,e[i++]=0,writeIEEE754$1(e,n,i,'little',52,8),i+=8}else{e[i++]=constants.BSON_DATA_LONG;var a=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');i+=a,e[i++]=0;var u=long_1.fromNumber(n),d=u.getLowBits(),f=u.getHighBits();e[i++]=255&d,e[i++]=255&d>>8,e[i++]=255&d>>16,e[i++]=255&d>>24,e[i++]=255&f,e[i++]=255&f>>8,e[i++]=255&f>>16,e[i++]=255&f>>24}return i}function serializeNull(e,t,n,i,o){e[i++]=constants.BSON_DATA_NULL;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');return i+=r,e[i++]=0,i}function serializeBoolean(e,t,n,i,o){e[i++]=constants.BSON_DATA_BOOLEAN;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');return i+=r,e[i++]=0,e[i++]=n?1:0,i}function serializeDate(e,t,n,i,o){e[i++]=constants.BSON_DATA_DATE;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');i+=r,e[i++]=0;var s=long_1.fromNumber(n.getTime()),l=s.getLowBits(),a=s.getHighBits();return e[i++]=255&l,e[i++]=255&l>>8,e[i++]=255&l>>16,e[i++]=255&l>>24,e[i++]=255&a,e[i++]=255&a>>8,e[i++]=255&a>>16,e[i++]=255&a>>24,i}function serializeRegExp(e,t,n,i,o){e[i++]=constants.BSON_DATA_REGEXP;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');if(i+=r,e[i++]=0,n.source&&null!=n.source.match(regexp$1))throw Error('value '+n.source+' must not contain null bytes');return i+=e.write(n.source,i,'utf8'),e[i++]=0,n.ignoreCase&&(e[i++]=105),n.global&&(e[i++]=115),n.multiline&&(e[i++]=109),e[i++]=0,i}function serializeBSONRegExp(e,t,n,i,o){e[i++]=constants.BSON_DATA_REGEXP;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');if(i+=r,e[i++]=0,null!=n.pattern.match(regexp$1))throw Error('pattern '+n.pattern+' must not contain null bytes');return i+=e.write(n.pattern,i,'utf8'),e[i++]=0,i+=e.write(n.options.split('').sort().join(''),i,'utf8'),e[i++]=0,i}function serializeMinMax(e,t,n,i,o){e[i++]=null===n?constants.BSON_DATA_NULL:'MinKey'===n._bsontype?constants.BSON_DATA_MIN_KEY:constants.BSON_DATA_MAX_KEY;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');return i+=r,e[i++]=0,i}function serializeObjectId(e,t,n,i,o){e[i++]=constants.BSON_DATA_OID;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');if(i+=r,e[i++]=0,'string'==typeof n.id)e.write(n.id,i,'binary');else if(n.id&&n.id.copy)n.id.copy(e,i,0,12);else throw new TypeError('object ['+JSON.stringify(n)+'] is not a valid ObjectId');return i+12}function serializeBuffer(e,t,n,i,o){e[i++]=constants.BSON_DATA_BINARY;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');i+=r,e[i++]=0;var s=n.length;return e[i++]=255&s,e[i++]=255&s>>8,e[i++]=255&s>>16,e[i++]=255&s>>24,e[i++]=constants.BSON_BINARY_SUBTYPE_DEFAULT,n.copy(e,i,0,s),i+=s,i}function serializeObject(e,t,n,o,r,s,l,a,u,d){for(var f=0;f<d.length;f++)if(d[f]===n)throw new Error('cyclic dependency detected');d.push(n),e[o++]=Array.isArray(n)?constants.BSON_DATA_ARRAY:constants.BSON_DATA_OBJECT;var i=u?e.write(t,o,'ascii'):e.write(t,o,'utf8');o+=i,e[o++]=0;var g=serializeInto(e,n,r,o,s+1,l,a,d);return d.pop(),g}function serializeDecimal128(e,t,n,i,o){e[i++]=constants.BSON_DATA_DECIMAL128;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');return i+=r,e[i++]=0,n.bytes.copy(e,i,0,16),i+16}function serializeLong(e,t,n,i,o){e[i++]='Long'===n._bsontype?constants.BSON_DATA_LONG:constants.BSON_DATA_TIMESTAMP;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');i+=r,e[i++]=0;var s=n.getLowBits(),l=n.getHighBits();return e[i++]=255&s,e[i++]=255&s>>8,e[i++]=255&s>>16,e[i++]=255&s>>24,e[i++]=255&l,e[i++]=255&l>>8,e[i++]=255&l>>16,e[i++]=255&l>>24,i}function serializeInt32(e,t,n,i,o){e[i++]=constants.BSON_DATA_INT;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');return i+=r,e[i++]=0,e[i++]=255&n,e[i++]=255&n>>8,e[i++]=255&n>>16,e[i++]=255&n>>24,i}function serializeDouble(e,t,n,i,o){e[i++]=constants.BSON_DATA_NUMBER;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');return i+=r,e[i++]=0,writeIEEE754$1(e,n.value,i,'little',52,8),i+=8,i}function serializeFunction(e,t,n,i,o,r,s){e[i++]=constants.BSON_DATA_CODE;var l=s?e.write(t,i,'ascii'):e.write(t,i,'utf8');i+=l,e[i++]=0;var a=normalizedFunctionString$1(n),u=e.write(a,i+4,'utf8')+1;return e[i]=255&u,e[i+1]=255&u>>8,e[i+2]=255&u>>16,e[i+3]=255&u>>24,i=i+4+u-1,e[i++]=0,i}function serializeCode(e,t,n,i,o,r,s,l,a){if(n.scope&&'object'===_typeof$3(n.scope)){e[i++]=constants.BSON_DATA_CODE_W_SCOPE;var u=a?e.write(t,i,'ascii'):e.write(t,i,'utf8');i+=u,e[i++]=0;var d=i,f='string'==typeof n.code?n.code:n.code.toString();i+=4;var g=e.write(f,i+4,'utf8')+1;e[i]=255&g,e[i+1]=255&g>>8,e[i+2]=255&g>>16,e[i+3]=255&g>>24,e[i+4+g-1]=0,i=i+g+4;var p=serializeInto(e,n.scope,o,i,r+1,s,l);i=p-1;var _=p-d;e[d++]=255&_,e[d++]=255&_>>8,e[d++]=255&_>>16,e[d++]=255&_>>24,e[i++]=0}else{e[i++]=constants.BSON_DATA_CODE;var h=a?e.write(t,i,'ascii'):e.write(t,i,'utf8');i+=h,e[i++]=0;var c=n.code.toString(),y=e.write(c,i+4,'utf8')+1;e[i]=255&y,e[i+1]=255&y>>8,e[i+2]=255&y>>16,e[i+3]=255&y>>24,i=i+4+y-1,e[i++]=0}return i}function serializeBinary(e,t,n,i,o){e[i++]=constants.BSON_DATA_BINARY;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');i+=r,e[i++]=0;var s=n.value(!0),l=n.position;return n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(l+=4),e[i++]=255&l,e[i++]=255&l>>8,e[i++]=255&l>>16,e[i++]=255&l>>24,e[i++]=n.sub_type,n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(l-=4,e[i++]=255&l,e[i++]=255&l>>8,e[i++]=255&l>>16,e[i++]=255&l>>24),s.copy(e,i,0,n.position),i+=n.position,i}function serializeSymbol(e,t,n,i,o){e[i++]=constants.BSON_DATA_SYMBOL;var r=o?e.write(t,i,'ascii'):e.write(t,i,'utf8');i+=r,e[i++]=0;var s=e.write(n.value,i+4,'utf8')+1;return e[i]=255&s,e[i+1]=255&s>>8,e[i+2]=255&s>>16,e[i+3]=255&s>>24,i=i+4+s-1,e[i++]=0,i}function serializeDBRef(e,t,n,i,o,r,s){e[i++]=constants.BSON_DATA_OBJECT;var l=s?e.write(t,i,'ascii'):e.write(t,i,'utf8');i+=l,e[i++]=0;var a,u=i,d={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(d.$db=n.db),d=Object.assign(d,n.fields),a=serializeInto(e,d,!1,i,o+1,r);var f=a-u;return e[u++]=255&f,e[u++]=255&f>>8,e[u++]=255&f>>16,e[u++]=255&f>>24,a}function serializeInto(e,t,n,o,r,s,l,a){o=o||0,a=a||[],a.push(t);var u=o+4;if(Array.isArray(t))for(var d=0;d<t.length;d++){var i=''+d,f=t[d];if(f&&f.toBSON){if('function'!=typeof f.toBSON)throw new TypeError('toBSON is not a function');f=f.toBSON()}var g=_typeof$3(f);if('string'===g)u=serializeString(e,i,f,u,!0);else if('number'===g)u=serializeNumber(e,i,f,u,!0);else if('boolean'===g)u=serializeBoolean(e,i,f,u,!0);else if(f instanceof Date||isDate$1(f))u=serializeDate(e,i,f,u,!0);else if(void 0===f)u=serializeNull(e,i,f,u,!0);else if(null===f)u=serializeNull(e,i,f,u,!0);else if('ObjectId'===f._bsontype||'ObjectID'===f._bsontype)u=serializeObjectId(e,i,f,u,!0);else if(Buffer$5.isBuffer(f))u=serializeBuffer(e,i,f,u,!0);else if(f instanceof RegExp||isRegExp$1(f))u=serializeRegExp(e,i,f,u,!0);else if('object'===g&&null==f._bsontype)u=serializeObject(e,i,f,u,n,r,s,l,!0,a);else if('object'===g&&'Decimal128'===f._bsontype)u=serializeDecimal128(e,i,f,u,!0);else if('Long'===f._bsontype||'Timestamp'===f._bsontype)u=serializeLong(e,i,f,u,!0);else if('Double'===f._bsontype)u=serializeDouble(e,i,f,u,!0);else if('function'==typeof f&&s)u=serializeFunction(e,i,f,u,n,r,s,!0);else if('Code'===f._bsontype)u=serializeCode(e,i,f,u,n,r,s,l,!0);else if('Binary'===f._bsontype)u=serializeBinary(e,i,f,u,!0);else if('Symbol'===f._bsontype)u=serializeSymbol(e,i,f,u,!0);else if('DBRef'===f._bsontype)u=serializeDBRef(e,i,f,u,r,s,!0);else if('BSONRegExp'===f._bsontype)u=serializeBSONRegExp(e,i,f,u,!0);else if('Int32'===f._bsontype)u=serializeInt32(e,i,f,u,!0);else if('MinKey'===f._bsontype||'MaxKey'===f._bsontype)u=serializeMinMax(e,i,f,u,!0);else if('undefined'!=typeof f._bsontype)throw new TypeError('Unrecognized or invalid _bsontype: '+f._bsontype)}else if(t instanceof map){for(var p,_=t.entries(),h=!1;!h;)if(p=_.next(),h=p.done,!h){var c=p.value[0],y=p.value[1],b=_typeof$3(y);if('string'==typeof c&&!ignoreKeys.has(c)){if(null!=c.match(regexp$1))throw Error('key '+c+' must not contain null bytes');if(n)if('$'===c[0])throw Error('key '+c+' must not start with \'$\'');else if(~c.indexOf('.'))throw Error('key '+c+' must not contain \'.\'')}if('string'===b)u=serializeString(e,c,y,u);else if('number'===b)u=serializeNumber(e,c,y,u);else if('boolean'===b)u=serializeBoolean(e,c,y,u);else if(y instanceof Date||isDate$1(y))u=serializeDate(e,c,y,u);else if(null===y||void 0===y&&!1===l)u=serializeNull(e,c,y,u);else if('ObjectId'===y._bsontype||'ObjectID'===y._bsontype)u=serializeObjectId(e,c,y,u);else if(Buffer$5.isBuffer(y))u=serializeBuffer(e,c,y,u);else if(y instanceof RegExp||isRegExp$1(y))u=serializeRegExp(e,c,y,u);else if('object'===b&&null==y._bsontype)u=serializeObject(e,c,y,u,n,r,s,l,!1,a);else if('object'===b&&'Decimal128'===y._bsontype)u=serializeDecimal128(e,c,y,u);else if('Long'===y._bsontype||'Timestamp'===y._bsontype)u=serializeLong(e,c,y,u);else if('Double'===y._bsontype)u=serializeDouble(e,c,y,u);else if('Code'===y._bsontype)u=serializeCode(e,c,y,u,n,r,s,l);else if('function'==typeof y&&s)u=serializeFunction(e,c,y,u,n,r,s);else if('Binary'===y._bsontype)u=serializeBinary(e,c,y,u);else if('Symbol'===y._bsontype)u=serializeSymbol(e,c,y,u);else if('DBRef'===y._bsontype)u=serializeDBRef(e,c,y,u,r,s);else if('BSONRegExp'===y._bsontype)u=serializeBSONRegExp(e,c,y,u);else if('Int32'===y._bsontype)u=serializeInt32(e,c,y,u);else if('MinKey'===y._bsontype||'MaxKey'===y._bsontype)u=serializeMinMax(e,c,y,u);else if('undefined'!=typeof y._bsontype)throw new TypeError('Unrecognized or invalid _bsontype: '+y._bsontype)}}else{if(t.toBSON){if('function'!=typeof t.toBSON)throw new TypeError('toBSON is not a function');if(t=t.toBSON(),null!=t&&'object'!==_typeof$3(t))throw new TypeError('toBSON function did not return an object')}for(var S in t){var N=t[S];if(N&&N.toBSON){if('function'!=typeof N.toBSON)throw new TypeError('toBSON is not a function');N=N.toBSON()}var A=_typeof$3(N);if('string'==typeof S&&!ignoreKeys.has(S)){if(null!=S.match(regexp$1))throw Error('key '+S+' must not contain null bytes');if(n)if('$'===S[0])throw Error('key '+S+' must not start with \'$\'');else if(~S.indexOf('.'))throw Error('key '+S+' must not contain \'.\'')}if('string'===A)u=serializeString(e,S,N,u);else if('number'===A)u=serializeNumber(e,S,N,u);else if('boolean'===A)u=serializeBoolean(e,S,N,u);else if(N instanceof Date||isDate$1(N))u=serializeDate(e,S,N,u);else if(void 0===N)!1===l&&(u=serializeNull(e,S,N,u));else if(null===N)u=serializeNull(e,S,N,u);else if('ObjectId'===N._bsontype||'ObjectID'===N._bsontype)u=serializeObjectId(e,S,N,u);else if(Buffer$5.isBuffer(N))u=serializeBuffer(e,S,N,u);else if(N instanceof RegExp||isRegExp$1(N))u=serializeRegExp(e,S,N,u);else if('object'===A&&null==N._bsontype)u=serializeObject(e,S,N,u,n,r,s,l,!1,a);else if('object'===A&&'Decimal128'===N._bsontype)u=serializeDecimal128(e,S,N,u);else if('Long'===N._bsontype||'Timestamp'===N._bsontype)u=serializeLong(e,S,N,u);else if('Double'===N._bsontype)u=serializeDouble(e,S,N,u);else if('Code'===N._bsontype)u=serializeCode(e,S,N,u,n,r,s,l);else if('function'==typeof N&&s)u=serializeFunction(e,S,N,u,n,r,s);else if('Binary'===N._bsontype)u=serializeBinary(e,S,N,u);else if('Symbol'===N._bsontype)u=serializeSymbol(e,S,N,u);else if('DBRef'===N._bsontype)u=serializeDBRef(e,S,N,u,r,s);else if('BSONRegExp'===N._bsontype)u=serializeBSONRegExp(e,S,N,u);else if('Int32'===N._bsontype)u=serializeInt32(e,S,N,u);else if('MinKey'===N._bsontype||'MaxKey'===N._bsontype)u=serializeMinMax(e,S,N,u);else if('undefined'!=typeof N._bsontype)throw new TypeError('Unrecognized or invalid _bsontype: '+N._bsontype)}}a.pop(),e[u++]=0;var m=u-o;return e[o++]=255&m,e[o++]=255&m>>8,e[o++]=255&m>>16,e[o++]=255&m>>24,u}function _typeof$4(e){return _typeof$4='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},_typeof$4(e)}function isDate$2(e){return'object'===_typeof$4(e)&&'[object Date]'===Object.prototype.toString.call(e)}function calculateObjectSize(e,t,n){var o=5;if(Array.isArray(e))for(var r=0;r<e.length;r++)o+=calculateElement(r.toString(),e[r],t,!0,n);else for(var i in e.toBSON&&(e=e.toBSON()),e)o+=calculateElement(i,e[i],t,!1,n);return o}function calculateElement(e,t,n,i,o){switch(t&&t.toBSON&&(t=t.toBSON()),_typeof$4(t)){case'string':return 1+Buffer$6.byteLength(e,'utf8')+1+4+Buffer$6.byteLength(t,'utf8')+1;case'number':return _Mathfloor(t)===t&&t>=constants.JS_INT_MIN&&t<=constants.JS_INT_MAX?t>=constants.BSON_INT32_MIN&&t<=constants.BSON_INT32_MAX?(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+5:(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+9:(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+9;case'undefined':return i||!o?(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+1:0;case'boolean':return(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+2;case'object':if(null==t||'MinKey'===t._bsontype||'MaxKey'===t._bsontype)return(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+1;if('ObjectId'===t._bsontype||'ObjectID'===t._bsontype)return(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+13;if(t instanceof Date||isDate$2(t))return(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+9;if('undefined'!=typeof Buffer$6&&Buffer$6.isBuffer(t))return(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+6+t.length;if('Long'===t._bsontype||'Double'===t._bsontype||'Timestamp'===t._bsontype)return(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+9;if('Decimal128'===t._bsontype)return(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+17;if('Code'===t._bsontype)return null!=t.scope&&0<Object.keys(t.scope).length?(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+1+4+4+Buffer$6.byteLength(t.code.toString(),'utf8')+1+calculateObjectSize(t.scope,n,o):(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+1+4+Buffer$6.byteLength(t.code.toString(),'utf8')+1;if('Binary'===t._bsontype)return t.sub_type===binary.SUBTYPE_BYTE_ARRAY?(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+(t.position+1+4+1+4):(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+(t.position+1+4+1);if('Symbol'===t._bsontype)return(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+Buffer$6.byteLength(t.value,'utf8')+4+1+1;if('DBRef'===t._bsontype){var r=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(r.$db=t.db),(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+1+calculateObjectSize(r,n,o)}return t instanceof RegExp||'[object RegExp]'===Object.prototype.toString.call(t)?(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+1+Buffer$6.byteLength(t.source,'utf8')+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:'BSONRegExp'===t._bsontype?(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+1+Buffer$6.byteLength(t.pattern,'utf8')+1+Buffer$6.byteLength(t.options,'utf8')+1:(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+calculateObjectSize(t,n,o)+1;case'function':if(t instanceof RegExp||'[object RegExp]'===Object.prototype.toString.call(t)||'[object RegExp]'===String.call(t))return(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+1+Buffer$6.byteLength(t.source,'utf8')+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(n&&null!=t.scope&&0<Object.keys(t.scope).length)return(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+1+4+4+Buffer$6.byteLength(normalizedFunctionString$2(t),'utf8')+1+calculateObjectSize(t.scope,n,o);if(n)return(null==e?0:Buffer$6.byteLength(e,'utf8')+1)+1+4+Buffer$6.byteLength(normalizedFunctionString$2(t),'utf8')+1;}return 0}function setInternalBufferSize(e){buffer$1.length<e&&(buffer$1=Buffer$8.alloc(e))}function serialize$1(e,t){t=t||{};var n='boolean'==typeof t.checkKeys&&t.checkKeys,i='boolean'==typeof t.serializeFunctions&&t.serializeFunctions,o='boolean'!=typeof t.ignoreUndefined||t.ignoreUndefined,r='number'==typeof t.minInternalBufferSize?t.minInternalBufferSize:MAXSIZE;buffer$1.length<r&&(buffer$1=Buffer$8.alloc(r));var s=serializer(buffer$1,e,n,0,0,i,o,[]),l=Buffer$8.alloc(s);return buffer$1.copy(l,0,0,l.length),l}function serializeWithBufferAndIndex(e,t,n){n=n||{};var i='boolean'==typeof n.checkKeys&&n.checkKeys,o='boolean'==typeof n.serializeFunctions&&n.serializeFunctions,r='boolean'!=typeof n.ignoreUndefined||n.ignoreUndefined,s='number'==typeof n.index?n.index:0,l=serializer(buffer$1,e,i,0,0,o,r);return buffer$1.copy(t,s,0,l),s+l-1}function deserialize$2(e,t){return e=ensure_buffer(e),deserializer(e,t)}function calculateObjectSize$1(e,t){t=t||{};var n=!('boolean'!=typeof t.serializeFunctions)&&t.serializeFunctions,i='boolean'!=typeof t.ignoreUndefined||t.ignoreUndefined;return calculate_size(e,n,i)}function deserializeStream(e,t,n,o,r,s){s=Object.assign({allowObjectSmallerThanBufferSize:!0},s),e=ensure_buffer(e);for(var l,a=t,u=0;u<n;u++)l=e[a]|e[a+1]<<8|e[a+2]<<16|e[a+3]<<24,s.index=a,o[r+u]=deserializer(e,s),a+=l;return a}__webpack_require__.d(__webpack_exports__,'BSON_INT32_MAX',function(){return bson_1}),__webpack_require__.d(__webpack_exports__,'BSON_INT32_MIN',function(){return bson_2}),__webpack_require__.d(__webpack_exports__,'BSON_INT64_MAX',function(){return bson_3}),__webpack_require__.d(__webpack_exports__,'BSON_INT64_MIN',function(){return bson_4}),__webpack_require__.d(__webpack_exports__,'JS_INT_MAX',function(){return bson_5}),__webpack_require__.d(__webpack_exports__,'JS_INT_MIN',function(){return bson_6}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_NUMBER',function(){return bson_7}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_STRING',function(){return bson_8}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_OBJECT',function(){return bson_9}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_ARRAY',function(){return bson_10}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_BINARY',function(){return bson_11}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_UNDEFINED',function(){return bson_12}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_OID',function(){return bson_13}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_BOOLEAN',function(){return bson_14}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_DATE',function(){return bson_15}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_NULL',function(){return bson_16}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_REGEXP',function(){return bson_17}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_DBPOINTER',function(){return bson_18}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_CODE',function(){return bson_19}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_SYMBOL',function(){return bson_20}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_CODE_W_SCOPE',function(){return bson_21}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_INT',function(){return bson_22}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_TIMESTAMP',function(){return bson_23}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_LONG',function(){return bson_24}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_DECIMAL128',function(){return bson_25}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_MIN_KEY',function(){return bson_26}),__webpack_require__.d(__webpack_exports__,'BSON_DATA_MAX_KEY',function(){return bson_27}),__webpack_require__.d(__webpack_exports__,'BSON_BINARY_SUBTYPE_DEFAULT',function(){return bson_28}),__webpack_require__.d(__webpack_exports__,'BSON_BINARY_SUBTYPE_FUNCTION',function(){return bson_29}),__webpack_require__.d(__webpack_exports__,'BSON_BINARY_SUBTYPE_BYTE_ARRAY',function(){return bson_30}),__webpack_require__.d(__webpack_exports__,'BSON_BINARY_SUBTYPE_UUID',function(){return bson_31}),__webpack_require__.d(__webpack_exports__,'BSON_BINARY_SUBTYPE_MD5',function(){return bson_32}),__webpack_require__.d(__webpack_exports__,'BSON_BINARY_SUBTYPE_USER_DEFINED',function(){return bson_33}),__webpack_require__.d(__webpack_exports__,'Code',function(){return bson_34}),__webpack_require__.d(__webpack_exports__,'BSONSymbol',function(){return bson_35}),__webpack_require__.d(__webpack_exports__,'DBRef',function(){return bson_36}),__webpack_require__.d(__webpack_exports__,'Binary',function(){return bson_37}),__webpack_require__.d(__webpack_exports__,'ObjectId',function(){return bson_38}),__webpack_require__.d(__webpack_exports__,'Long',function(){return bson_39}),__webpack_require__.d(__webpack_exports__,'Timestamp',function(){return bson_40}),__webpack_require__.d(__webpack_exports__,'Double',function(){return bson_41}),__webpack_require__.d(__webpack_exports__,'Int32',function(){return bson_42}),__webpack_require__.d(__webpack_exports__,'MinKey',function(){return bson_43}),__webpack_require__.d(__webpack_exports__,'MaxKey',function(){return bson_44}),__webpack_require__.d(__webpack_exports__,'BSONRegExp',function(){return bson_45}),__webpack_require__.d(__webpack_exports__,'Decimal128',function(){return bson_46}),__webpack_require__.d(__webpack_exports__,'serialize',function(){return bson_47}),__webpack_require__.d(__webpack_exports__,'serializeWithBufferAndIndex',function(){return bson_48}),__webpack_require__.d(__webpack_exports__,'deserialize',function(){return bson_49}),__webpack_require__.d(__webpack_exports__,'calculateObjectSize',function(){return bson_50}),__webpack_require__.d(__webpack_exports__,'deserializeStream',function(){return bson_51}),__webpack_require__.d(__webpack_exports__,'setInternalBufferSize',function(){return bson_52}),__webpack_require__.d(__webpack_exports__,'ObjectID',function(){return bson_53}),__webpack_require__.d(__webpack_exports__,'EJSON',function(){return bson_54});var __WEBPACK_IMPORTED_MODULE_0_long__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_0_long___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_long__),__WEBPACK_IMPORTED_MODULE_1_buffer__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1_buffer___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_buffer__),commonjsGlobal='undefined'==typeof window?'undefined'==typeof global?'undefined'==typeof self?{}:self:global:window,map=createCommonjsModule(function(e){if('undefined'!=typeof commonjsGlobal.Map)e.exports=commonjsGlobal.Map,e.exports.Map=commonjsGlobal.Map;else{var t=function(e){this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],i=n[0],o=n[1];this._keys.push(i),this._values[i]={v:o,i:this._keys.length-1}}};t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},t.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:n===void 0?void 0:[n,e._values[n].v],done:!(n!==void 0)}}}},t.prototype.forEach=function(e,t){t=t||this;for(var n,o=0;o<this._keys.length;o++)n=this._keys[o],e.call(t,this._values[n].v,n,t)},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return null!=this._values[e]},t.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:n===void 0?void 0:n,done:!(n!==void 0)}}}},t.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:n===void 0?void 0:e._values[n].v,done:!(n!==void 0)}}}},Object.defineProperty(t.prototype,'size',{enumerable:!0,get:function(){return this._keys.length}}),e.exports=t}}),map_1=map.Map;__WEBPACK_IMPORTED_MODULE_0_long___default.a.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},__WEBPACK_IMPORTED_MODULE_0_long___default.a.fromExtendedJSON=function(e,t){var n=__WEBPACK_IMPORTED_MODULE_0_long___default.a.fromString(e.$numberLong);return t&&t.relaxed?n.toNumber():n},Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_long___default.a.prototype,'_bsontype',{value:'Long'});var long_1=__WEBPACK_IMPORTED_MODULE_0_long___default.a,Double=function(){function e(t){_classCallCheck(this,e),this.value=t}return _createClass(e,[{key:'valueOf',value:function(){return this.value}},{key:'toJSON',value:function(){return this.value}},{key:'toExtendedJSON',value:function(e){return e&&e.relaxed&&isFinite(this.value)?this.value:{$numberDouble:this.value.toString()}}}],[{key:'fromExtendedJSON',value:function(t,n){return n&&n.relaxed?parseFloat(t.$numberDouble):new e(parseFloat(t.$numberDouble))}}]),e}();Object.defineProperty(Double.prototype,'_bsontype',{value:'Double'});var double_1=Double,Timestamp=function(e){function t(e,n){var i;return _classCallCheck$1(this,t),i=long_1.isLong(e)?_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e.low,e.high)):_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n)),_possibleConstructorReturn(i)}return _inherits(t,e),_createClass$1(t,[{key:'toJSON',value:function(){return{$timestamp:this.toString()}}},{key:'toExtendedJSON',value:function(){return{$timestamp:{t:this.high,i:this.low}}}}],[{key:'fromInt',value:function(e){return new t(long_1.fromInt(e))}},{key:'fromNumber',value:function(e){return new t(long_1.fromNumber(e))}},{key:'fromBits',value:function(e,n){return new t(e,n)}},{key:'fromString',value:function(e,n){return new t(long_1.fromString(e,n))}},{key:'fromExtendedJSON',value:function(e){return new t(e.$timestamp.i,e.$timestamp.t)}}]),t}(long_1);Object.defineProperty(Timestamp.prototype,'_bsontype',{value:'Timestamp'});var timestamp=Timestamp,require$$0={},randomBytes=insecureRandomBytes;if('undefined'!=typeof window&&window.crypto&&window.crypto.getRandomValues)randomBytes=function(e){return window.crypto.getRandomValues(new Uint8Array(e))};else{try{randomBytes=require$$0.randomBytes}catch(t){}null==randomBytes&&(randomBytes=insecureRandomBytes)}var utils={normalizedFunctionString:normalizedFunctionString,randomBytes:randomBytes},cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;'function'==typeof global.setTimeout&&(cachedSetTimeout=setTimeout),'function'==typeof global.clearTimeout&&(cachedClearTimeout=clearTimeout);var currentQueue,queue=[],draining=!1,queueIndex=-1;Item.prototype.run=function(){this.fun.apply(null,this.array)};var inherits,title='browser',platform='browser',browser=!0,env={},argv=[],version='',versions={},release={},config={},on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop,performance=global.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return new Date().getTime()},startTime=new Date,process={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime};inherits='function'==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var debugEnviron,inherits$1=inherits,formatRegExp=/%[sdj%]/g,debugs={};inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:'cyan',number:'yellow',boolean:'yellow',undefined:'grey',null:'bold',string:'green',date:'magenta',regexp:'red'};var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],util={inherits:inherits$1,_extend:_extend,log:log,isBuffer:isBuffer,isPrimitive:isPrimitive,isFunction:isFunction,isError:isError,isDate:isDate,isObject:isObject,isRegExp:isRegExp,isUndefined:isUndefined,isSymbol:isSymbol,isString:isString,isNumber:isNumber,isNullOrUndefined:isNullOrUndefined,isNull:isNull,isBoolean:isBoolean,isArray:isArray,inspect:inspect,deprecate:deprecate,format:format,debuglog:debuglog},Buffer$1=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,randomBytes$1=utils.randomBytes,deprecate$1=util.deprecate,PROCESS_UNIQUE=randomBytes$1(5),checkForHexRegExp=/^[0-9a-fA-F]{24}$/,hasBufferType=!1;try{Buffer$1&&Buffer$1.from&&(hasBufferType=!0)}catch(e){hasBufferType=!1}for(var hexTable=[],_i=0;256>_i;_i++)hexTable[_i]=(15>=_i?'0':'')+_i.toString(16);for(var decodeLookup=[],i=0;10>i;)decodeLookup[48+i]=i++;for(;16>i;)decodeLookup[55+i]=decodeLookup[87+i]=i++;var _Buffer=Buffer$1,ObjectId=function(){function e(t){if(_classCallCheck$2(this,e),t instanceof e)return t;if(null==t||'number'==typeof t)return this.id=e.generate(t),void(e.cacheHexString&&(this.__id=this.toString('hex')));var n=e.isValid(t);if(!n&&null!=t)throw new TypeError('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters');else{if(n&&'string'==typeof t&&24===t.length&&hasBufferType)return new e(Buffer$1.from(t,'hex'));if(n&&'string'==typeof t&&24===t.length)return e.createFromHexString(t);if(null!=t&&12===t.length)this.id=t;else{if(null!=t&&t.toHexString)return e.createFromHexString(t.toHexString());throw new TypeError('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters')}}e.cacheHexString&&(this.__id=this.toString('hex'))}return _createClass$2(e,[{key:'toHexString',value:function(){if(e.cacheHexString&&this.__id)return this.__id;var t='';if(!this.id||!this.id.length)throw new TypeError('invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ['+JSON.stringify(this.id)+']');if(this.id instanceof _Buffer)return t=convertToHex(this.id),e.cacheHexString&&(this.__id=t),t;for(var n,i=0;i<this.id.length;i++){if(n=hexTable[this.id.charCodeAt(i)],'string'!=typeof n)throw makeObjectIdError(this.id,i);t+=n}return e.cacheHexString&&(this.__id=t),t}},{key:'toString',value:function(e){return this.id&&this.id.copy?this.id.toString('string'==typeof e?e:'hex'):this.toHexString()}},{key:'toJSON',value:function(){return this.toHexString()}},{key:'equals',value:function(t){return t instanceof e?this.toString()===t.toString():'string'==typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof _Buffer?t===this.id.toString('binary'):'string'==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():'string'==typeof t&&e.isValid(t)&&12===t.length?t===this.id:!!(null!=t&&(t instanceof e||t.toHexString))&&t.toHexString()===this.toHexString()}},{key:'getTimestamp',value:function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*_Mathfloor(t)),e}},{key:'toExtendedJSON',value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString('hex')}}}],[{key:'getInc',value:function(){return e.index=(e.index+1)%16777215}},{key:'generate',value:function(t){'number'!=typeof t&&(t=~~(Date.now()/1e3));var n=e.getInc(),i=Buffer$1.alloc(12);return i[3]=255&t,i[2]=255&t>>8,i[1]=255&t>>16,i[0]=255&t>>24,i[4]=PROCESS_UNIQUE[0],i[5]=PROCESS_UNIQUE[1],i[6]=PROCESS_UNIQUE[2],i[7]=PROCESS_UNIQUE[3],i[8]=PROCESS_UNIQUE[4],i[11]=255&n,i[10]=255&n>>8,i[9]=255&n>>16,i}},{key:'createPk',value:function(){return new e}},{key:'createFromTime',value:function(t){var n=Buffer$1.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n[3]=255&t,n[2]=255&t>>8,n[1]=255&t>>16,n[0]=255&t>>24,new e(n)}},{key:'createFromHexString',value:function(t){if('undefined'==typeof t||null!=t&&24!==t.length)throw new TypeError('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters');if(hasBufferType)return new e(Buffer$1.from(t,'hex'));for(var o=new _Buffer(12),r=0,n=0;24>n;)o[r++]=decodeLookup[t.charCodeAt(n++)]<<4|decodeLookup[t.charCodeAt(n++)];return new e(o)}},{key:'isValid',value:function(t){return null!=t&&('number'==typeof t||('string'==typeof t?12===t.length||24===t.length&&checkForHexRegExp.test(t):!!(t instanceof e)||!!(t instanceof _Buffer&&12===t.length)||!!t.toHexString&&(12===t.id.length||24===t.id.length&&checkForHexRegExp.test(t.id))))}},{key:'fromExtendedJSON',value:function(t){return new e(t.$oid)}}]),e}();ObjectId.get_inc=deprecate$1(function(){return ObjectId.getInc()},'Please use the static `ObjectId.getInc()` instead'),ObjectId.prototype.get_inc=deprecate$1(function(){return ObjectId.getInc()},'Please use the static `ObjectId.getInc()` instead'),ObjectId.prototype.getInc=deprecate$1(function(){return ObjectId.getInc()},'Please use the static `ObjectId.getInc()` instead'),ObjectId.prototype.generate=deprecate$1(function(e){return ObjectId.generate(e)},'Please use the static `ObjectId.generate(time)` instead'),Object.defineProperty(ObjectId.prototype,'generationTime',{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=255&e>>8,this.id[1]=255&e>>16,this.id[0]=255&e>>24}}),ObjectId.prototype[util.inspect.custom||'inspect']=ObjectId.prototype.toString,ObjectId.index=~~(16777215*Math.random()),Object.defineProperty(ObjectId.prototype,'_bsontype',{value:'ObjectID'});var objectid=ObjectId,BSONRegExp=function(){function e(t,n){_classCallCheck$3(this,e),this.pattern=t||'',this.options=n?alphabetize(n):'';for(var o=0;o<this.options.length;o++)if('i'!==this.options[o]&&'m'!==this.options[o]&&'x'!==this.options[o]&&'l'!==this.options[o]&&'s'!==this.options[o]&&'u'!==this.options[o])throw new Error('The regular expression option ['.concat(this.options[o],'] is not supported'))}return _createClass$3(e,[{key:'toExtendedJSON',value:function(){return{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:'fromExtendedJSON',value:function(t){return new e(t.$regularExpression.pattern,t.$regularExpression.options.split('').sort().join(''))}}]),e}();Object.defineProperty(BSONRegExp.prototype,'_bsontype',{value:'BSONRegExp'});var regexp=BSONRegExp,BSONSymbol=function(){function e(t){_classCallCheck$4(this,e),this.value=t}return _createClass$4(e,[{key:'valueOf',value:function(){return this.value}},{key:'toString',value:function(){return this.value}},{key:'inspect',value:function(){return this.value}},{key:'toJSON',value:function(){return this.value}},{key:'toExtendedJSON',value:function(){return{$symbol:this.value}}}],[{key:'fromExtendedJSON',value:function(t){return new e(t.$symbol)}}]),e}();Object.defineProperty(BSONSymbol.prototype,'_bsontype',{value:'Symbol'});var symbol=BSONSymbol,Int32=function(){function e(t){_classCallCheck$5(this,e),this.value=t}return _createClass$5(e,[{key:'valueOf',value:function(){return this.value}},{key:'toJSON',value:function(){return this.value}},{key:'toExtendedJSON',value:function(e){return e&&e.relaxed?this.value:{$numberInt:this.value.toString()}}}],[{key:'fromExtendedJSON',value:function(t,n){return n&&n.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)}}]),e}();Object.defineProperty(Int32.prototype,'_bsontype',{value:'Int32'});var int_32=Int32,Code=function(){function e(t,n){_classCallCheck$6(this,e),this.code=t,this.scope=n}return _createClass$6(e,[{key:'toJSON',value:function(){return{scope:this.scope,code:this.code}}},{key:'toExtendedJSON',value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:'fromExtendedJSON',value:function(t){return new e(t.$code,t.$scope)}}]),e}();Object.defineProperty(Code.prototype,'_bsontype',{value:'Code'});var code=Code,Buffer$2=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,PARSE_STRING_REGEXP=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,PARSE_INF_REGEXP=/^(\+|-)?(Infinity|inf)$/i,PARSE_NAN_REGEXP=/^(\+|-)?NaN$/i,EXPONENT_MAX=6111,EXPONENT_MIN=-6176,EXPONENT_BIAS=6176,MAX_DIGITS=34,NAN_BUFFER=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,124],INF_NEGATIVE_BUFFER=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,248],INF_POSITIVE_BUFFER=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,120],EXPONENT_REGEX=/^([-+])?(\d+)?$/;Decimal128.fromString=function(t){var n=!1,o=!1,r=!1,s=0,l=0,a=0,u=0,d=0,f=[0],g=0,p=0,_=0,h=0,c=0,y=0,i=[0,0],b=[0,0],S=0,N=0;if(7e3<=t.length)throw new TypeError(''+t+' not a valid Decimal128 string');var A=t.match(PARSE_STRING_REGEXP),m=t.match(PARSE_INF_REGEXP),B=t.match(PARSE_NAN_REGEXP);if(!A&&!m&&!B||0===t.length)throw new TypeError(''+t+' not a valid Decimal128 string');if(A){var O=A[2],T=A[4],e=A[5],E=A[6];T&&void 0===E&&invalidErr(t,'missing exponent power'),T&&void 0===O&&invalidErr(t,'missing exponent base'),void 0===T&&(e||E)&&invalidErr(t,'missing e before exponent')}if(('+'===t[N]||'-'===t[N])&&(n='-'===t[N++]),!isDigit(t[N])&&'.'!==t[N]){if('i'===t[N]||'I'===t[N])return new Decimal128(Buffer$2.from(n?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));if('N'===t[N])return new Decimal128(Buffer$2.from(NAN_BUFFER))}for(;isDigit(t[N])||'.'===t[N];){if('.'===t[N]){o&&invalidErr(t,'contains multiple periods'),o=!0,++N;continue}34>g&&('0'!==t[N]||r)&&(!r&&(d=l),r=!0,f[p++]=parseInt(t[N],10),++g),r&&++a,o&&++u,++l,++N}if(o&&!l)throw new TypeError(''+t+' not a valid Decimal128 string');if('e'===t[N]||'E'===t[N]){var D=t.substr(++N).match(EXPONENT_REGEX);if(!D||!D[2])return new Decimal128(Buffer$2.from(NAN_BUFFER));c=parseInt(D[0],10),N+=D[0].length}if(t[N])return new Decimal128(Buffer$2.from(NAN_BUFFER));if(_=0,!g)_=0,h=0,f[0]=0,a=1,g=1,s=0;else if(h=g-1,s=a,1!=s)for(;'0'===t[d+s-1];)--s;for(c<=u&&16384<u-c?c=EXPONENT_MIN:c-=u;c>EXPONENT_MAX;){if(++h,h-_>MAX_DIGITS){var I=f.join('');if(I.match(/^0+$/)){c=EXPONENT_MAX;break}invalidErr(t,'overflow')}--c}for(;c<EXPONENT_MIN||g<a;){if(0==h&&s<g){c=EXPONENT_MIN,s=0;break}if(g<a?--a:--h,c<EXPONENT_MAX)++c;else{var w=f.join('');if(w.match(/^0+$/)){c=EXPONENT_MAX;break}invalidErr(t,'overflow')}}if(h-_+1<s){var x=l;o&&(++d,++x),n&&(++d,++x);var v=parseInt(t[d+h+1],10),R=0;if(5<=v&&(R=1,5===v))for(R=1==f[h]%2,y=d+h+2;y<x;y++)if(parseInt(t[y],10)){R=1;break}if(R)for(var U=h;0<=U;U--)if(9<++f[U]&&(f[U]=0,0===U))if(c<EXPONENT_MAX)++c,f[U]=1;else return new Decimal128(Buffer$2.from(n?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER))}if(i=long_1.fromNumber(0),b=long_1.fromNumber(0),0==s)i=long_1.fromNumber(0),b=long_1.fromNumber(0);else if(17>h-_){var P=_;for(b=long_1.fromNumber(f[P++]),i=new long_1(0,0);P<=h;P++)b=b.multiply(long_1.fromNumber(10)),b=b.add(long_1.fromNumber(f[P]))}else{var Y=_;for(i=long_1.fromNumber(f[Y++]);Y<=h-17;Y++)i=i.multiply(long_1.fromNumber(10)),i=i.add(long_1.fromNumber(f[Y]));for(b=long_1.fromNumber(f[Y++]);Y<=h;Y++)b=b.multiply(long_1.fromNumber(10)),b=b.add(long_1.fromNumber(f[Y]))}var L=multiply64x2(i,long_1.fromString('100000000000000000'));L.low=L.low.add(b),lessThan(L.low,b)&&(L.high=L.high.add(long_1.fromNumber(1))),S=c+EXPONENT_BIAS;var M={low:long_1.fromNumber(0),high:long_1.fromNumber(0)};L.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber(1))?(M.high=M.high.or(long_1.fromNumber(3).shiftLeft(61)),M.high=M.high.or(long_1.fromNumber(S).and(long_1.fromNumber(16383).shiftLeft(47))),M.high=M.high.or(L.high.and(long_1.fromNumber(0x7fffffffffff)))):(M.high=M.high.or(long_1.fromNumber(16383&S).shiftLeft(49)),M.high=M.high.or(L.high.and(long_1.fromNumber(562949953421311)))),M.low=L.low,n&&(M.high=M.high.or(long_1.fromString('9223372036854775808')));var k=Buffer$2.alloc(16);return N=0,k[N++]=255&M.low.low,k[N++]=255&M.low.low>>8,k[N++]=255&M.low.low>>16,k[N++]=255&M.low.low>>24,k[N++]=255&M.low.high,k[N++]=255&M.low.high>>8,k[N++]=255&M.low.high>>16,k[N++]=255&M.low.high>>24,k[N++]=255&M.high.low,k[N++]=255&M.high.low>>8,k[N++]=255&M.high.low>>16,k[N++]=255&M.high.low>>24,k[N++]=255&M.high.high,k[N++]=255&M.high.high>>8,k[N++]=255&M.high.high>>16,k[N++]=255&M.high.high>>24,new Decimal128(k)};var COMBINATION_MASK=31,EXPONENT_MASK=16383,COMBINATION_INFINITY=30,COMBINATION_NAN=31;Decimal128.prototype.toString=function(){for(var e,t,n,o,r,s,l=0,a=Array(36),u=0;u<a.length;u++)a[u]=0;var i,d,f,g,p,_=0,h=!1,c={parts:[,,,,]},y=[];_=0;var b=this.bytes;o=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24,n=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24,t=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24,e=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24,_=0;var S={low:new long_1(o,n),high:new long_1(t,e)};if(S.high.lessThan(long_1.ZERO)&&y.push('-'),r=e>>26&COMBINATION_MASK,3==r>>3){if(r===COMBINATION_INFINITY)return y.join('')+'Infinity';if(r===COMBINATION_NAN)return'NaN';s=e>>15&EXPONENT_MASK,f=8+(1&e>>14)}else f=7&e>>14,s=e>>17&EXPONENT_MASK;if(i=s-EXPONENT_BIAS,c.parts[0]=(16383&e)+((15&f)<<14),c.parts[1]=t,c.parts[2]=n,c.parts[3]=o,0===c.parts[0]&&0===c.parts[1]&&0===c.parts[2]&&0===c.parts[3])h=!0;else for(p=3;0<=p;p--){var N=0,A=divideu128(c);if(c=A.quotient,N=A.rem.low,N)for(g=8;0<=g;g--)a[9*p+g]=N%10,N=_Mathfloor(N/10)}if(h)l=1,a[_]=0;else for(l=36;!a[_];)--l,++_;if(d=l-1+i,34<=d||-7>=d||0<i){if(34<l)return y.push(0),0<i?y.push('E+'+i):0>i&&y.push('E'+i),y.join('');y.push(a[_++]),--l,l&&y.push('.');for(var m=0;m<l;m++)y.push(a[_++]);y.push('E'),0<d?y.push('+'+d):y.push(d)}else if(0<=i)for(var B=0;B<l;B++)y.push(a[_++]);else{var O=l+i;if(0<O)for(var T=0;T<O;T++)y.push(a[_++]);else y.push('0');for(y.push('.');0>O++;)y.push('0');for(var E=0;E<l-_Mathmax(O-1,0);E++)y.push(a[_++])}return y.join('')},Decimal128.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.fromExtendedJSON=function(e){return Decimal128.fromString(e.$numberDecimal)},Object.defineProperty(Decimal128.prototype,'_bsontype',{value:'Decimal128'});var decimal128=Decimal128,MinKey=function(){function e(){_classCallCheck$7(this,e)}return _createClass$7(e,[{key:'toExtendedJSON',value:function(){return{$minKey:1}}}],[{key:'fromExtendedJSON',value:function(){return new e}}]),e}();Object.defineProperty(MinKey.prototype,'_bsontype',{value:'MinKey'});var min_key=MinKey,MaxKey=function(){function e(){_classCallCheck$8(this,e)}return _createClass$8(e,[{key:'toExtendedJSON',value:function(){return{$maxKey:1}}}],[{key:'fromExtendedJSON',value:function(){return new e}}]),e}();Object.defineProperty(MaxKey.prototype,'_bsontype',{value:'MaxKey'});var max_key=MaxKey,DBRef=function(){function e(t,n,i,o){_classCallCheck$9(this,e);var r=t.split('.');2===r.length&&(i=r.shift(),t=r.shift()),this.collection=t,this.oid=n,this.db=i,this.fields=o||{}}return _createClass$9(e,[{key:'toJSON',value:function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}},{key:'toExtendedJSON',value:function(){var e={$ref:this.collection,$id:this.oid};return this.db&&(e.$db=this.db),e=Object.assign(e,this.fields),e}}],[{key:'fromExtendedJSON',value:function(t){var n=Object.assign({},t);return['$ref','$id','$db'].forEach(function(e){return delete n[e]}),new e(t.$ref,t.$id,t.$db,n)}}]),e}();Object.defineProperty(DBRef.prototype,'_bsontype',{value:'DBRef'}),Object.defineProperty(DBRef.prototype,'namespace',{get:function(){return this.collection},set:function(e){this.collection=e},configurable:!1});var db_ref=DBRef,Buffer$3=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,Binary=function(){function e(t,n){if(_classCallCheck$a(this,e),null!=t&&'string'!=typeof t&&!Buffer$3.isBuffer(t)&&!(t instanceof Uint8Array)&&!Array.isArray(t))throw new TypeError('only String, Buffer, Uint8Array or Array accepted');if(this.sub_type=null==n?BSON_BINARY_SUBTYPE_DEFAULT:n,this.position=0,null!=t&&!(t instanceof Number)){if('string'!=typeof t)this.buffer=t;else if('undefined'!=typeof Buffer$3)this.buffer=Buffer$3.from(t);else if('undefined'!=typeof Uint8Array||Array.isArray(t))this.buffer=writeStringToArray(t);else throw new TypeError('only String, Buffer, Uint8Array or Array accepted');this.position=t.length}else this.buffer='undefined'==typeof Buffer$3?'undefined'==typeof Uint8Array?Array(e.BUFFER_SIZE):new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE)):Buffer$3.alloc(e.BUFFER_SIZE)}return _createClass$a(e,[{key:'put',value:function(t){if(null!=t.length&&'number'!=typeof t&&1!==t.length)throw new TypeError('only accepts single character String, Uint8Array or Array');if('number'!=typeof t&&0>t||255<t)throw new TypeError('only accepts number in a valid unsigned byte range 0-255');var n=null;if(n='string'==typeof t?t.charCodeAt(0):null==t.length?t:t[0],this.buffer.length>this.position)this.buffer[this.position++]=n;else if('undefined'!=typeof Buffer$3&&Buffer$3.isBuffer(this.buffer)){var o=Buffer$3.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(o,0,0,this.buffer.length),this.buffer=o,this.buffer[this.position++]=n}else{var r=null;r=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE+this.buffer.length)):Array(e.BUFFER_SIZE+this.buffer.length);for(var s=0;s<this.buffer.length;s++)r[s]=this.buffer[s];this.buffer=r,this.buffer[this.position++]=n}}},{key:'write',value:function(e,t){if(t='number'==typeof t?t:this.position,this.buffer.length<t+e.length){var n=null;if('undefined'!=typeof Buffer$3&&Buffer$3.isBuffer(this.buffer))n=Buffer$3.alloc(this.buffer.length+e.length),this.buffer.copy(n,0,0,this.buffer.length);else if(isUint8Array(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var o=0;o<this.position;o++)n[o]=this.buffer[o]}this.buffer=n}if('undefined'!=typeof Buffer$3&&Buffer$3.isBuffer(e)&&Buffer$3.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if('undefined'!=typeof Buffer$3&&'string'==typeof e&&Buffer$3.isBuffer(this.buffer))this.buffer.write(e,t,'binary'),this.position=t+e.length>this.position?t+e.length:this.position;else if(isUint8Array(e)||Array.isArray(e)&&'string'!=typeof e){for(var i=0;i<e.length;i++)this.buffer[t++]=e[i];this.position=t>this.position?t:this.position}else if('string'==typeof e){for(var r=0;r<e.length;r++)this.buffer[t++]=e.charCodeAt(r);this.position=t>this.position?t:this.position}}},{key:'read',value:function(e,t){if(t=t&&0<t?t:this.position,this.buffer.slice)return this.buffer.slice(e,e+t);for(var n='undefined'==typeof Uint8Array?Array(t):new Uint8Array(new ArrayBuffer(t)),o=0;o<t;o++)n[o]=this.buffer[e++];return n}},{key:'value',value:function(e){if(e=null!=e&&e,e&&'undefined'!=typeof Buffer$3&&Buffer$3.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if('undefined'!=typeof Buffer$3&&Buffer$3.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString('binary',0,this.position);if(e){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):Array(this.position),n=0;n<this.position;n++)t[n]=this.buffer[n];return t}return convertArraytoUtf8BinaryString(this.buffer,0,this.position)}},{key:'length',value:function(){return this.position}},{key:'toJSON',value:function(){return null==this.buffer?'':this.buffer.toString('base64')}},{key:'toString',value:function(e){return null==this.buffer?'':this.buffer.slice(0,this.position).toString(e)}},{key:'toExtendedJSON',value:function(){var e=Buffer$3.isBuffer(this.buffer)?this.buffer.toString('base64'):Buffer$3.from(this.buffer).toString('base64'),t=(+this.sub_type).toString(16);return{$binary:{base64:e,subType:1===t.length?'0'+t:t}}}}],[{key:'fromExtendedJSON',value:function(t){var n=t.$binary.subType?parseInt(t.$binary.subType,16):0,i=Buffer$3.from(t.$binary.base64,'base64');return new e(i,n)}}]),e}(),BSON_BINARY_SUBTYPE_DEFAULT=0;Binary.BUFFER_SIZE=256,Binary.SUBTYPE_DEFAULT=0,Binary.SUBTYPE_FUNCTION=1,Binary.SUBTYPE_BYTE_ARRAY=2,Binary.SUBTYPE_UUID_OLD=3,Binary.SUBTYPE_UUID=4,Binary.SUBTYPE_MD5=5,Binary.SUBTYPE_USER_DEFINED=128,Object.defineProperty(Binary.prototype,'_bsontype',{value:'Binary'});var binary=Binary,constants={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,BSON_INT64_MAX:9223372036854776000,BSON_INT64_MIN:-9223372036854776000,JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992,BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_DBPOINTER:12,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128},keysToCodecs={$oid:objectid,$binary:binary,$symbol:symbol,$numberInt:int_32,$numberDecimal:decimal128,$numberDouble:double_1,$numberLong:long_1,$minKey:min_key,$maxKey:max_key,$regularExpression:regexp,$timestamp:timestamp},BSON_INT32_MAX=2147483647,BSON_INT32_MIN=-2147483648,BSON_INT64_MAX=0x7fffffffffffffff,BSON_INT64_MIN=-0x8000000000000000,BSON_TYPE_MAPPINGS={Binary:function(e){return new binary(e.value(),e.subtype)},Code:function(e){return new code(e.code,e.scope)},DBRef:function(e){return new db_ref(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new decimal128(e.bytes)},Double:function(e){return new double_1(e.value)},Int32:function(e){return new int_32(e.value)},Long:function(e){return long_1.fromBits(null==e.low?e.low_:e.low,null==e.low?e.high_:e.high,null==e.low?e.unsigned_:e.unsigned)},MaxKey:function(){return new max_key},MinKey:function(){return new min_key},ObjectID:function(e){return new objectid(e)},ObjectId:function(e){return new objectid(e)},BSONRegExp:function(e){return new regexp(e.pattern,e.options)},Symbol:function(e){return new symbol(e.value)},Timestamp:function(e){return timestamp.fromBits(e.low,e.high)}},extended_json={parse:parse,deserialize:deserialize,serialize:serialize,stringify:stringify},FIRST_BIT=128,FIRST_TWO_BITS=192,FIRST_THREE_BITS=224,FIRST_FOUR_BITS=240,FIRST_FIVE_BITS=248,TWO_BIT_CHAR=192,THREE_BIT_CHAR=224,FOUR_BIT_CHAR=240,CONTINUING_CHAR=128,validateUtf8_1=validateUtf8,validate_utf8={validateUtf8:validateUtf8_1},Buffer$4=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,validateUtf8$1=validate_utf8.validateUtf8,JS_INT_MAX_LONG=long_1.fromNumber(constants.JS_INT_MAX),JS_INT_MIN_LONG=long_1.fromNumber(constants.JS_INT_MIN),functionCache={},deserializer=deserialize$1,float_parser={readIEEE754:readIEEE754,writeIEEE754:writeIEEE754},Buffer$5=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,writeIEEE754$1=float_parser.writeIEEE754,normalizedFunctionString$1=utils.normalizedFunctionString,regexp$1=/\x00/,ignoreKeys=new Set(['$db','$ref','$id','$clusterTime']),isDate$1=function(e){return'object'===_typeof$3(e)&&'[object Date]'===Object.prototype.toString.call(e)},isRegExp$1=function(e){return'[object RegExp]'===Object.prototype.toString.call(e)},serializer=serializeInto,Buffer$6=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,normalizedFunctionString$2=utils.normalizedFunctionString,calculate_size=calculateObjectSize,Buffer$7=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,ensure_buffer=function(e){if(e instanceof Buffer$7)return e;if(e instanceof Uint8Array)return Buffer$7.from(e.buffer);throw new TypeError('Must use either Buffer or Uint8Array')},Buffer$8=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,MAXSIZE=17825792,buffer$1=Buffer$8.alloc(MAXSIZE),bson={BSON_INT32_MAX:constants.BSON_INT32_MAX,BSON_INT32_MIN:constants.BSON_INT32_MIN,BSON_INT64_MAX:constants.BSON_INT64_MAX,BSON_INT64_MIN:constants.BSON_INT64_MIN,JS_INT_MAX:constants.JS_INT_MAX,JS_INT_MIN:constants.JS_INT_MIN,BSON_DATA_NUMBER:constants.BSON_DATA_NUMBER,BSON_DATA_STRING:constants.BSON_DATA_STRING,BSON_DATA_OBJECT:constants.BSON_DATA_OBJECT,BSON_DATA_ARRAY:constants.BSON_DATA_ARRAY,BSON_DATA_BINARY:constants.BSON_DATA_BINARY,BSON_DATA_UNDEFINED:constants.BSON_DATA_UNDEFINED,BSON_DATA_OID:constants.BSON_DATA_OID,BSON_DATA_BOOLEAN:constants.BSON_DATA_BOOLEAN,BSON_DATA_DATE:constants.BSON_DATA_DATE,BSON_DATA_NULL:constants.BSON_DATA_NULL,BSON_DATA_REGEXP:constants.BSON_DATA_REGEXP,BSON_DATA_DBPOINTER:constants.BSON_DATA_DBPOINTER,BSON_DATA_CODE:constants.BSON_DATA_CODE,BSON_DATA_SYMBOL:constants.BSON_DATA_SYMBOL,BSON_DATA_CODE_W_SCOPE:constants.BSON_DATA_CODE_W_SCOPE,BSON_DATA_INT:constants.BSON_DATA_INT,BSON_DATA_TIMESTAMP:constants.BSON_DATA_TIMESTAMP,BSON_DATA_LONG:constants.BSON_DATA_LONG,BSON_DATA_DECIMAL128:constants.BSON_DATA_DECIMAL128,BSON_DATA_MIN_KEY:constants.BSON_DATA_MIN_KEY,BSON_DATA_MAX_KEY:constants.BSON_DATA_MAX_KEY,BSON_BINARY_SUBTYPE_DEFAULT:constants.BSON_BINARY_SUBTYPE_DEFAULT,BSON_BINARY_SUBTYPE_FUNCTION:constants.BSON_BINARY_SUBTYPE_FUNCTION,BSON_BINARY_SUBTYPE_BYTE_ARRAY:constants.BSON_BINARY_SUBTYPE_BYTE_ARRAY,BSON_BINARY_SUBTYPE_UUID:constants.BSON_BINARY_SUBTYPE_UUID,BSON_BINARY_SUBTYPE_MD5:constants.BSON_BINARY_SUBTYPE_MD5,BSON_BINARY_SUBTYPE_USER_DEFINED:constants.BSON_BINARY_SUBTYPE_USER_DEFINED,Code:code,Map:map,BSONSymbol:symbol,DBRef:db_ref,Binary:binary,ObjectId:objectid,Long:long_1,Timestamp:timestamp,Double:double_1,Int32:int_32,MinKey:min_key,MaxKey:max_key,BSONRegExp:regexp,Decimal128:decimal128,serialize:serialize$1,serializeWithBufferAndIndex:serializeWithBufferAndIndex,deserialize:deserialize$2,calculateObjectSize:calculateObjectSize$1,deserializeStream:deserializeStream,setInternalBufferSize:setInternalBufferSize,ObjectID:objectid,EJSON:extended_json},bson_1=bson.BSON_INT32_MAX,bson_2=bson.BSON_INT32_MIN,bson_3=bson.BSON_INT64_MAX,bson_4=bson.BSON_INT64_MIN,bson_5=bson.JS_INT_MAX,bson_6=bson.JS_INT_MIN,bson_7=bson.BSON_DATA_NUMBER,bson_8=bson.BSON_DATA_STRING,bson_9=bson.BSON_DATA_OBJECT,bson_10=bson.BSON_DATA_ARRAY,bson_11=bson.BSON_DATA_BINARY,bson_12=bson.BSON_DATA_UNDEFINED,bson_13=bson.BSON_DATA_OID,bson_14=bson.BSON_DATA_BOOLEAN,bson_15=bson.BSON_DATA_DATE,bson_16=bson.BSON_DATA_NULL,bson_17=bson.BSON_DATA_REGEXP,bson_18=bson.BSON_DATA_DBPOINTER,bson_19=bson.BSON_DATA_CODE,bson_20=bson.BSON_DATA_SYMBOL,bson_21=bson.BSON_DATA_CODE_W_SCOPE,bson_22=bson.BSON_DATA_INT,bson_23=bson.BSON_DATA_TIMESTAMP,bson_24=bson.BSON_DATA_LONG,bson_25=bson.BSON_DATA_DECIMAL128,bson_26=bson.BSON_DATA_MIN_KEY,bson_27=bson.BSON_DATA_MAX_KEY,bson_28=bson.BSON_BINARY_SUBTYPE_DEFAULT,bson_29=bson.BSON_BINARY_SUBTYPE_FUNCTION,bson_30=bson.BSON_BINARY_SUBTYPE_BYTE_ARRAY,bson_31=bson.BSON_BINARY_SUBTYPE_UUID,bson_32=bson.BSON_BINARY_SUBTYPE_MD5,bson_33=bson.BSON_BINARY_SUBTYPE_USER_DEFINED,bson_34=bson.Code,bson_35=bson.BSONSymbol,bson_36=bson.DBRef,bson_37=bson.Binary,bson_38=bson.ObjectId,bson_39=bson.Long,bson_40=bson.Timestamp,bson_41=bson.Double,bson_42=bson.Int32,bson_43=bson.MinKey,bson_44=bson.MaxKey,bson_45=bson.BSONRegExp,bson_46=bson.Decimal128,bson_47=bson.serialize,bson_48=bson.serializeWithBufferAndIndex,bson_49=bson.deserialize,bson_50=bson.calculateObjectSize,bson_51=bson.deserializeStream,bson_52=bson.setInternalBufferSize,bson_53=bson.ObjectID,bson_54=bson.EJSON;__webpack_exports__['default']=bson}.call(__webpack_exports__,__webpack_require__(0),__webpack_require__(1).Buffer)},function(e,t){'use strict';function n(e){var t=e.length;if(0<t%4)throw new Error('Invalid string. Length must be a multiple of 4');var n=e.indexOf('=');-1===n&&(n=t);var i=n===t?0:4-n%4;return[n,i]}function o(e,t,n){return 3*(t+n)/4-n}function r(e){var t,r,i=n(e),s=i[0],l=i[1],a=new f(o(e,s,l)),u=0,g=0<l?s-4:s;for(r=0;r<g;r+=4)t=d[e.charCodeAt(r)]<<18|d[e.charCodeAt(r+1)]<<12|d[e.charCodeAt(r+2)]<<6|d[e.charCodeAt(r+3)],a[u++]=255&t>>16,a[u++]=255&t>>8,a[u++]=255&t;return 2===l&&(t=d[e.charCodeAt(r)]<<2|d[e.charCodeAt(r+1)]>>4,a[u++]=255&t),1===l&&(t=d[e.charCodeAt(r)]<<10|d[e.charCodeAt(r+1)]<<4|d[e.charCodeAt(r+2)]>>2,a[u++]=255&t>>8,a[u++]=255&t),a}function s(e){return u[63&e>>18]+u[63&e>>12]+u[63&e>>6]+u[63&e]}function l(e,t,n){for(var o,r=[],l=t;l<n;l+=3)o=(16711680&e[l]<<16)+(65280&e[l+1]<<8)+(255&e[l+2]),r.push(s(o));return r.join('')}function a(e){for(var t,n=e.length,o=n%3,r=[],s=16383,a=0,i=n-o;a<i;a+=s)r.push(l(e,a,a+s>i?i:a+s));return 1==o?(t=e[n-1],r.push(u[t>>2]+u[63&t<<4]+'==')):2==o&&(t=(e[n-2]<<8)+e[n-1],r.push(u[t>>10]+u[63&t>>4]+u[63&t<<2]+'=')),r.join('')}t.byteLength=function(e){var t=n(e),i=t[0],o=t[1];return 3*(i+o)/4-o},t.toByteArray=r,t.fromByteArray=a;for(var u=[],d=[],f='undefined'==typeof Uint8Array?Array:Uint8Array,g='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',p=0,i=g.length;p<i;++p)u[p]=g[p],d[g.charCodeAt(p)]=p;d[45]=62,d[95]=63},function(e,t){t.read=function(t,n,o,r,l){var a,e,u=8*l-r-1,f=(1<<u)-1,g=f>>1,p=-7,_=o?l-1:0,i=o?-1:1,d=t[n+_];for(_+=i,a=d&(1<<-p)-1,d>>=-p,p+=u;0<p;a=256*a+t[n+_],_+=i,p-=8);for(e=a&(1<<-p)-1,a>>=-p,p+=r;0<p;e=256*e+t[n+_],_+=i,p-=8);if(0===a)a=1-g;else{if(a===f)return e?NaN:(d?-1:1)*Infinity;e+=_Mathpow(2,r),a-=g}return(d?-1:1)*e*_Mathpow(2,a-r)},t.write=function(t,n,o,r,l,a){var u,f,g,p=8*a-l-1,_=(1<<p)-1,h=_>>1,c=23===l?5.960464477539063e-8-6.617444900424222e-24:0,y=r?0:a-1,i=r?1:-1,d=0>n||0===n&&0>1/n?1:0;for(n=_Mathabs(n),isNaN(n)||n===Infinity?(f=isNaN(n)?1:0,u=_):(u=_Mathfloor(_Mathlog(n)/_MathLN),1>n*(g=_Mathpow(2,-u))&&(u--,g*=2),n+=1<=u+h?c/g:c*_Mathpow(2,1-h),2<=n*g&&(u++,g/=2),u+h>=_?(f=0,u=_):1<=u+h?(f=(n*g-1)*_Mathpow(2,l),u+=h):(f=n*_Mathpow(2,h-1)*_Mathpow(2,l),u=0));8<=l;t[o+y]=255&f,y+=i,f/=256,l-=8);for(u=u<<l|f,p+=l;0<p;t[o+y]=255&u,y+=i,u/=256,p-=8);t[o+y-i]|=128*d}},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return'[object Array]'==t.call(e)}},function(e){function t(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function n(e){return!0===(e&&e.__isLong__)}function i(e,t){var n,i,o;return t?(e>>>=0,(o=0<=e&&256>e)&&(i=d[e],i))?i:(n=r(e,0>(0|e)?-1:0,!0),o&&(d[e]=n),n):(e|=0,(o=-128<=e&&128>e)&&(i=u[e],i))?i:(n=r(e,0>e?-1:0,!1),o&&(u[e]=n),n)}function o(e,t){if(isNaN(e))return t?b:y;if(t){if(0>e)return b;if(e>=_)return B}else{if(e<=-h)return O;if(e+1>=h)return m}return 0>e?o(-e,t).neg():r(0|e%p,0|e/p,t)}function r(e,n,i){return new t(e,n,i)}function s(e,t,n){if(0===e.length)throw Error('empty string');if('NaN'===e||'Infinity'===e||'+Infinity'===e||'-Infinity'===e)return y;if('number'==typeof t?(n=t,t=!1):t=!!t,n=n||10,2>n||36<n)throw RangeError('radix');var r;if(0<(r=e.indexOf('-')))throw Error('interior hyphen');else if(0===r)return s(e.substring(1),t,n).neg();for(var l=o(f(n,8)),a=y,u=0;u<e.length;u+=8){var i=_Mathmin(8,e.length-u),d=parseInt(e.substring(u,u+i),n);if(8>i){var g=o(f(n,i));a=a.mul(g).add(o(d))}else a=a.mul(l),a=a.add(o(d))}return a.unsigned=t,a}function l(e,t){return'number'==typeof e?o(e,t):'string'==typeof e?s(e,t):r(e.low,e.high,'boolean'==typeof t?t:e.unsigned)}e.exports=t;var a=null;try{a=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}t.prototype.__isLong__,Object.defineProperty(t.prototype,'__isLong__',{value:!0}),t.isLong=n;var u={},d={};t.fromInt=i,t.fromNumber=o,t.fromBits=r;var f=_Mathpow;t.fromString=s,t.fromValue=l;var g=65536,p=g*g,_=p*p,h=_/2,c=i(16777216),y=i(0);t.ZERO=y;var b=i(0,!0);t.UZERO=b;var S=i(1);t.ONE=S;var N=i(1,!0);t.UONE=N;var A=i(-1);t.NEG_ONE=A;var m=r(-1,2147483647,!1);t.MAX_VALUE=m;var B=r(-1,-1,!0);t.MAX_UNSIGNED_VALUE=B;var O=r(0,-2147483648,!1);t.MIN_VALUE=O;var T=t.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},T.toString=function(e){if(e=e||10,2>e||36<e)throw RangeError('radix');if(this.isZero())return'0';if(this.isNegative()){if(this.eq(O)){var t=o(e),n=this.div(t),i=n.mul(t).sub(this);return n.toString(e)+i.toInt().toString(e)}return'-'+this.neg().toString(e)}for(var r=o(f(e,6),this.unsigned),s=this,l='';;){var a=s.div(r),u=s.sub(a.mul(r)).toInt()>>>0,d=u.toString(e);if(s=a,s.isZero())return d+l;for(;6>d.length;)d='0'+d;l=''+d+l}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(O)?64:this.neg().getNumBitsAbs();for(var e=0==this.high?this.low:this.high,t=31;0<t&&!(0!=(e&1<<t));t--);return 0==this.high?t+1:t+33},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&0>this.high},T.isPositive=function(){return this.unsigned||0<=this.high},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return n(e)||(e=l(e)),(this.unsigned===e.unsigned||1!=this.high>>>31||1!=e.high>>>31)&&this.high===e.high&&this.low===e.low},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return 0>this.comp(e)},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return 0>=this.comp(e)},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return 0<this.comp(e)},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return 0<=this.comp(e)},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(n(e)||(e=l(e)),this.eq(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(O)?O:this.not().add(S)},T.neg=T.negate,T.add=function(e){n(e)||(e=l(e));var t=this.high>>>16,i=65535&this.high,o=this.low>>>16,s=65535&this.low,a=e.high>>>16,u=65535&e.high,d=e.low>>>16,f=65535&e.low,g=0,p=0,_=0,h=0;return h+=s+f,_+=h>>>16,h&=65535,_+=o+d,p+=_>>>16,_&=65535,p+=i+u,g+=p>>>16,p&=65535,g+=t+a,g&=65535,r(_<<16|h,g<<16|p,this.unsigned)},T.subtract=function(e){return n(e)||(e=l(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return y;if(n(e)||(e=l(e)),a){var t=a.mul(this.low,this.high,e.low,e.high);return r(t,a.get_high(),this.unsigned)}if(e.isZero())return y;if(this.eq(O))return e.isOdd()?O:y;if(e.eq(O))return this.isOdd()?O:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(c)&&e.lt(c))return o(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,s=65535&this.high,u=this.low>>>16,d=65535&this.low,f=e.high>>>16,g=65535&e.high,p=e.low>>>16,_=65535&e.low,h=0,b=0,S=0,N=0;return N+=d*_,S+=N>>>16,N&=65535,S+=u*_,b+=S>>>16,S&=65535,S+=d*p,b+=S>>>16,S&=65535,b+=s*_,h+=b>>>16,b&=65535,b+=u*p,h+=b>>>16,b&=65535,b+=d*g,h+=b>>>16,b&=65535,h+=i*_+s*p+u*g+d*f,h&=65535,r(S<<16|N,h<<16|b,this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(n(e)||(e=l(e)),e.isZero())throw Error('division by zero');if(a){if(!this.unsigned&&-2147483648===this.high&&-1===e.low&&-1===e.high)return this;var t=(this.unsigned?a.div_u:a.div_s)(this.low,this.high,e.low,e.high);return r(t,a.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?b:y;var i,s,u;if(!this.unsigned){if(this.eq(O)){if(e.eq(S)||e.eq(A))return O;if(e.eq(O))return S;var d=this.shr(1);return i=d.div(e).shl(1),i.eq(y)?e.isNegative()?S:A:(s=this.sub(e.mul(i)),u=i.add(s.div(e)),u)}if(e.eq(O))return this.unsigned?b:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();u=y}else{if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return b;if(e.gt(this.shru(1)))return N;u=b}for(s=this;s.gte(e);){i=_Mathmax(1,_Mathfloor(s.toNumber()/e.toNumber()));for(var g=Math.ceil(_Mathlog(i)/_MathLN),p=48>=g?1:f(2,g-48),_=o(i),h=_.mul(e);h.isNegative()||h.gt(s);)i-=p,_=o(i,this.unsigned),h=_.mul(e);_.isZero()&&(_=S),u=u.add(_),s=s.sub(h)}return u},T.div=T.divide,T.modulo=function(e){if(n(e)||(e=l(e)),a){var t=(this.unsigned?a.rem_u:a.rem_s)(this.low,this.high,e.low,e.high);return r(t,a.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return r(~this.low,~this.high,this.unsigned)},T.and=function(e){return n(e)||(e=l(e)),r(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return n(e)||(e=l(e)),r(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return n(e)||(e=l(e)),r(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:32>e?r(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):r(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:32>e?r(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):r(this.high>>e-32,0<=this.high?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(n(e)&&(e=e.toInt()),e&=63,0===e)return this;var t=this.high;if(32>e){var i=this.low;return r(i>>>e|t<<32-e,t>>>e,this.unsigned)}return 32===e?r(t,0,this.unsigned):r(t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?r(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:r(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,255&t>>>8,255&t>>>16,t>>>24,255&e,255&e>>>8,255&e>>>16,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,255&e>>>16,255&e>>>8,255&e,t>>>24,255&t>>>16,255&t>>>8,255&t]},t.fromBytes=function(e,n,i){return i?t.fromBytesLE(e,n):t.fromBytesBE(e,n)},t.fromBytesLE=function(e,n){return new t(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},t.fromBytesBE=function(e,n){return new t(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)}}])});